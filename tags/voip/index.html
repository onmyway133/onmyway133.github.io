<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Tag: voip - onmyway133</title><meta description="What you don&amp;#39;t know is what you haven&amp;#39;t learned"><meta property="og:type" content="blog"><meta property="og:title" content="onmyway133"><meta property="og:url" content="https://onmyway133.github.io/"><meta property="og:site_name" content="onmyway133"><meta property="og:description" content="What you don&amp;#39;t know is what you haven&amp;#39;t learned"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://onmyway133.github.io/img/og_image.png"><meta property="article:author" content="Khoa Pham"><meta property="article:tag" content="ios"><meta property="article:tag" content=" android"><meta property="article:tag" content="javascript"><meta property="article:tag" content=" react"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><meta property="twitter:creator" content="@onmyway133"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://onmyway133.github.io"},"headline":"onmyway133","image":["https://onmyway133.github.io/img/og_image.png"],"author":{"@type":"Person","name":"Khoa Pham"},"description":"What you don&#39;t know is what you haven&#39;t learned"}</script><link rel="alternative" href="/atom.xml" title="onmyway133" type="application/atom+xml"><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-40119591-5" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-40119591-5');</script><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><script data-ad-client="ca-pub-3656459401405265" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/z.png" alt="onmyway133" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/apps">Apps</a><a class="navbar-item" href="/gumroad">Gumroad</a><a class="navbar-item" href="/about">About</a><a class="navbar-item" href="/opensource">Open Source</a><a class="navbar-item" href="/writing">Writing</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/speaking">Speaking</a><a class="navbar-item" href="/news">News</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/onmyway133"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/tags">Tags</a></li><li class="is-active"><a href="#" aria-current="page">voip</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-06-12T19:33:28.000Z" title="2019-06-12T19:33:28.000Z">2019-06-12</time><span class="level-item">8 minutes read (About 1228 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/Support-IP-handover-in-rtpproxy-for-VoIP-applications/">Support IP handover in rtpproxy for VoIP applications</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/304">#304</a></strong></p>
<p>If you do <a href="https://github.com/onmyway133/blog/issues/284">VoIP applications</a>, especially with open sources like pjsip, you may encounter <a href="https://www.kamailio.org/w/">kamalio</a> and <a href="http://www.rtpproxy.org/">rtpproxy</a> to serve SIP requests. Due to limitation of NAT traversals, rtpproxy is needed to work around NAT. All SIP handshake requests go through a proxy server, but rtpproxy can also relay voice, video or any RTP stream of data. When I played with rtpproxy, it was before version <a href="http://www.rtpproxy.org/post/v2release/">2.0</a> and I need to handle IP handover. This refers to the scenario when user switches between different network, for example from Wifi to 4G and they get new IP. Normally this means ending in the SIP call, but the expectation is that we can retry and continue the call if possible for users.</p>
<p>That‚Äôs why I forked rtpproxy and add IP handover support. You can check the GitHub repo at <a href="https://github.com/onmyway133/rtpproxy">rtpproxy</a>.</p>
<p>Use src_cnt to track the number of consecutive packets from different address. When this number exceeds THRESHOLD (10 for RTP and 2 for RTCP), I switch to this new address</p>
<p>This way</p>
<ul>
<li><p>Client can ALWAYS change IP when he switches from 3G to Wifi, or from this Wifi hotspot to another</p>
</li>
<li><p>There‚Äôs no chance for attack, unless attacker sends &gt; 10 (RTP THRESHOLD) packets in 20ms (supposed my client sends packets every 20ms)</p>
</li>
</ul>
<p>This idea is borrowed from <a href="http://www.pjsip.org/pjmedia/docs/html/group__PJMEDIA__CONFIG.htm">http://www.pjsip.org/pjmedia/docs/html/group__PJMEDIA__CONFIG.htm</a></p>
<p>There is a macro PJMEDIA_RTP_NAT_PROBATION_CNT. Basically, it is</p>
<blockquote>
<p><em>‚ÄúSee if source address of RTP packet is different than the configured address, and switch RTP remote address to source packet address after several consecutive packets have been received.‚Äù</em></p>
</blockquote>
<p>Mobile clients now change IP frequently, from these hotspots to those. So if rtpproxy can support this feature, it would be nicer.</p>
<p>Take a look at <a href="https://github.com/onmyway133/rtpproxy/blob/master/rtpp_session.h">https://github.com/onmyway133/rtpproxy/blob/master/rtpp_session.h</a></p>
<pre><code>// IP Handover Count how many consecutive different packets are received, 0 is for callee, 1 is for caller    unsigned int src_count[2];</code></pre><p>And how it actions in <a href="https://github.com/onmyway133/rtpproxy/blob/master/main.c">https://github.com/onmyway133/rtpproxy/blob/master/main.c</a></p>
<pre><code>static void
rxmit_packets(struct cfg *cf, struct rtpp_session *sp, int ridx,
  double dtime)
{
    int ndrain, i, port;
    struct rtp_packet *packet = NULL;

/* Repeat since we may have several packets queued on the same socket */
    for (ndrain = 0; ndrain &lt; 5; ndrain++) {
 if (packet != NULL)
     rtp_packet_free(packet);

packet = rtp_recv(sp-&gt;fds[ridx]);
 if (packet == NULL)
     break;
 packet-&gt;laddr = sp-&gt;laddr[ridx];
 packet-&gt;rport = sp-&gt;ports[ridx];
 packet-&gt;rtime = dtime;

i = 0;
 // IP Handover do not need canupdate
 // Use src_count
 if (sp-&gt;addr[ridx] != NULL) {
     /* Check that the packet is authentic, drop if it isn&apos;t */
     if (sp-&gt;asymmetric[ridx] == 0) {
  /*
  if (memcmp(sp-&gt;addr[ridx], &amp;packet-&gt;raddr, packet-&gt;rlen) != 0) {
      if (sp-&gt;canupdate[ridx] == 0) {
   //
   // Continue, since there could be good packets in
   // queue.
   //
   continue;
      }

      // Signal that an address has to be updated
      rtpp_log_write(RTPP_LOG_ERR, cf-&gt;glog, &quot;IP Handover Set i 1st ridx %d&quot;,ridx);
      i = 1;
  } else if (sp-&gt;canupdate[ridx] != 0 &amp;&amp;
    sp-&gt;last_update[ridx] != 0 &amp;&amp;
    dtime - sp-&gt;last_update[ridx] &gt; UPDATE_WINDOW) 
  {
      sp-&gt;canupdate[ridx] = 0;
      rtpp_log_write(RTPP_LOG_ERR, cf-&gt;glog, &quot;IP Handover Set canupdate to 0 1st ridx %d&quot;,ridx);
  }
  */

  if (memcmp(sp-&gt;addr[ridx], &amp;packet-&gt;raddr, packet-&gt;rlen) == 0) { 
   sp-&gt;src_count[ridx] = 0;
  } 
  else {
   sp-&gt;src_count[ridx]++;
   // IP Handover RTCP packet sends at larger interval, so must use smaller THRESHOLD
   // Check to see if port is odd or even
   if(sp-&gt;ports[ridx] % 2 == 0) {
    if(sp-&gt;src_count[ridx] &gt;= 10) {
     i = 1;
    } 
   }
   else {
    if(sp-&gt;src_count[ridx] &gt;= 2) {
     i = 1;
    }
   }

  }

} else {
  /*
   * For asymmetric clients don&apos;t check
   * source port since it may be different.
   */
  rtpp_log_write(RTPP_LOG_ERR, cf-&gt;glog, &quot;IP Handover We are in asymmetric ridx %d&quot;,ridx);
  if (!ishostseq(sp-&gt;addr[ridx], sstosa(&amp;packet-&gt;raddr)))
      /*
       * Continue, since there could be good packets in
       * queue.
       */
      continue;
     }
     sp-&gt;pcount[ridx]++;
 } else {
     sp-&gt;pcount[ridx]++;
     sp-&gt;addr[ridx] = malloc(packet-&gt;rlen);
     if (sp-&gt;addr[ridx] == NULL) {
  sp-&gt;pcount[3]++;
  rtpp_log_write(RTPP_LOG_ERR, sp-&gt;log,
    &quot;can&apos;t allocate memory for remote address - &quot;
    &quot;removing session&quot;);
  remove_session(cf, GET_RTP(sp));
  /* Break, sp is invalid now */
  break;
     }
     /* Signal that an address have to be updated. */
     rtpp_log_write(RTPP_LOG_ERR, cf-&gt;glog, &quot;IP Handover Set i 2nd ridx %d&quot;,ridx); 
     i = 1;
 }

/*
  * Update recorded address if it&apos;s necessary. Set &quot;untrusted address&quot;
  * flag in the session state, so that possible future address updates
  * from that client won&apos;t get address changed immediately to some
  * bogus one.
  */
 if (i != 0) {
     sp-&gt;untrusted_addr[ridx] = 1;
     memcpy(sp-&gt;addr[ridx], &amp;packet-&gt;raddr, packet-&gt;rlen);

     // IP Handover Do not use canupdate
     // After update, reset src_count
     /*
     if (sp-&gt;prev_addr[ridx] == NULL || memcmp(sp-&gt;prev_addr[ridx],
       &amp;packet-&gt;raddr, packet-&gt;rlen) != 0) 
     {
         sp-&gt;canupdate[ridx] = 0;
  if(sp-&gt;prev_addr[ridx] == NULL)
  {
     rtpp_log_write(RTPP_LOG_ERR, cf-&gt;glog, &quot;IP Handover prev_addr NULL ridx %d&quot;,ridx); 
  }
  rtpp_log_write(RTPP_LOG_ERR, cf-&gt;glog, &quot;IP Handover Set canupdate to 0 2nd ridx %d&quot;,ridx);
     }
     */

sp-&gt;src_count[ridx] = 0;

port = ntohs(satosin(&amp;packet-&gt;raddr)-&gt;sin_port);

rtpp_log_write(RTPP_LOG_INFO, sp-&gt;log,
       &quot;%s&apos;s address filled in: %s:%d (%s)&quot;,
       (ridx == 0) ? &quot;callee&quot; : &quot;caller&quot;,
       addr2char(sstosa(&amp;packet-&gt;raddr)), port,
       (sp-&gt;rtp == NULL) ? &quot;RTP&quot; : &quot;RTCP&quot;);

/*
      * Check if we have updated RTP while RTCP is still
      * empty or contains address that differs from one we
      * used when updating RTP. Try to guess RTCP if so,
      * should be handy for non-NAT&apos;ed clients, and some
      * NATed as well.
      */
     if (sp-&gt;rtcp != NULL &amp;&amp; (sp-&gt;rtcp-&gt;addr[ridx] == NULL ||
       !ishostseq(sp-&gt;rtcp-&gt;addr[ridx], sstosa(&amp;packet-&gt;raddr)))) {
  if (sp-&gt;rtcp-&gt;addr[ridx] == NULL) {
      sp-&gt;rtcp-&gt;addr[ridx] = malloc(packet-&gt;rlen);
      if (sp-&gt;rtcp-&gt;addr[ridx] == NULL) {
   sp-&gt;pcount[3]++;
   rtpp_log_write(RTPP_LOG_ERR, sp-&gt;log,
     &quot;can&apos;t allocate memory for remote address - &quot;
     &quot;removing session&quot;);
   remove_session(cf, sp);
   /* Break, sp is invalid now */
   break;
      }
  }
  memcpy(sp-&gt;rtcp-&gt;addr[ridx], &amp;packet-&gt;raddr, packet-&gt;rlen);
  satosin(sp-&gt;rtcp-&gt;addr[ridx])-&gt;sin_port = htons(port + 1);
  /* Use guessed value as the only true one for asymmetric clients */
  sp-&gt;rtcp-&gt;canupdate[ridx] = NOT(sp-&gt;rtcp-&gt;asymmetric[ridx]);
  rtpp_log_write(RTPP_LOG_INFO, sp-&gt;log, &quot;guessing RTCP port &quot;
    &quot;for %s to be %d&quot;,
    (ridx == 0) ? &quot;callee&quot; : &quot;caller&quot;, port + 1);
     }
 }

if (sp-&gt;resizers[ridx].output_nsamples &gt; 0)
     rtp_resizer_enqueue(&amp;sp-&gt;resizers[ridx], &amp;packet);
 if (packet != NULL)
     send_packet(cf, sp, ridx, packet);
    }

if (packet != NULL)
 rtp_packet_free(packet);
}</code></pre><p>Here are some useful resources that I read</p>
<ul>
<li><a href="http://stackoverflow.com/questions/18200089/how-does-rtpproxy-handle-handover">http://stackoverflow.com/questions/18200089/how-does-rtpproxy-handle-handover</a></li>
<li><a href="http://lists.sip-router.org/pipermail/sr-users/2008-March/062795.html">http://lists.sip-router.org/pipermail/sr-users/2008-March/062795.html</a></li>
<li><a href="http://sourceforge.net/p/sippy/rtpproxy/ci/c71201d897ee7c5620d88bb7d56412cd9dc3362a/tree//main.c?diff=5d030295ce90f2f6ff292b0d65bae1d4318db02a">http://sourceforge.net/p/sippy/rtpproxy/ci/c71201d897ee7c5620d88bb7d56412cd9dc3362a/tree//main.c?diff=5d030295ce90f2f6ff292b0d65bae1d4318db02a</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-05-23T16:29:00.000Z" title="2019-05-23T16:29:00.000Z">2019-05-23</time><span class="level-item">42 minutes read (About 6277 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/Learning-VoIP-RTP-and-SIP-(aka-awesome-pjsip)/">Learning VoIP, RTP and SIP (aka awesome pjsip)</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/284">#284</a></strong></p>
<p>Before working with Windows Phone and iOS, my life involved researching VoIP. That was to build a C library for voice over IP functionality for a very popular app, and that was how I got started in open source.</p>
<p>The library I was working with were <a href="https://www.linphone.org/">Linphone</a> and <a href="http://pjsip.org/">pjsip</a>. I learn a lot of UDP and SIP protocol, how to build C library for consumption in iOS, Android and Windows Phone, how challenging it is to support C++ component and thread pool in Windows Phone 8, how to tweak entropy functionality in OpenSSL to make it compile in Windows Phone 8, how hard it was to debug C code with Android NDK. It was time when I needed to open Visual Studio, Xcode and Eclipse IDE at the same time, joined <a href="https://www.google.no/search?q=lists.pjsip.org+onmyway133&oq=lists.pjsip.org+onmyway133">mailing list</a> and followed <a href="http://dir.gmane.org/gmane.comp.voip.pjsip">gmane</a>. Lots of good memories.</p>
<p>Today I find that those bookmarks I made are still available on Safari, so I think I should share here. I need to remove many articles because they are outdated or not available anymore. These are the resources that I actually read and used, not some random links. Hopefully you can find something useful.</p>
<p>This post focuses more about resources for pjsip on client and how to talk directly and with/without a proxy server.</p>
<h2 id="First-of-all"><a href="#First-of-all" class="headerlink" title="First of all"></a>First of all</h2><p>Here are some of the articles and open sources made by me regarding VoIP, hope you find it useful</p>
<ul>
<li><p><a href="https://github.com/onmyway133/rtpproxy">rtpproxy</a>: I forked from <a href="http://www.rtpproxy.org/">http://www.rtpproxy.org/</a> and changed code to make it support for IP handover. It means the proxy can handle when IP changes from 3G, 4G to Wifi and to reduce chances of attacks</p>
</li>
<li><p><a href="https://github.com/onmyway133/blog/issues/157">Jitter buffer in VoIP</a></p>
</li>
<li><p><a href="https://github.com/onmyway133/blog/issues/155">How to calculate packet size in VoIP</a></p>
</li>
</ul>
<h2 id="VoIP-overview"><a href="#VoIP-overview" class="headerlink" title="VoIP overview"></a>VoIP overview</h2><blockquote>
<p><strong>Voice over Internet Protocol</strong> (also <strong>voice over IP</strong>, <strong>VoIP</strong> or <strong>IP telephony</strong>) is a methodology and group of technologies for the delivery of <a href="https://en.wikipedia.org/wiki/Voice_communication">voice communications</a> and <a href="https://en.wikipedia.org/wiki/Multimedia">multimedia</a> sessions over <a href="https://en.wikipedia.org/wiki/Internet_Protocol">Internet Protocol</a> (IP) networks, such as the <a href="https://en.wikipedia.org/wiki/Internet">Internet</a></p>
</blockquote>
<ul>
<li><p><a href="http://toncar.cz/Tutorials/VoIP/index.html">Voice over IP Overview</a>: introduction to VoIP concepts, H.323 and SIP protocol</p>
</li>
<li><p><a href="https://en.wikipedia.org/wiki/Voice_over_IP">Voice over Internet Protocol</a> the wikipedia article contains very foundation knowledge</p>
</li>
<li><p><a href="https://www.voip-info.org/open-source-voip-software">Open Source VOIP Software</a>: this is a must read. Lots of foundation articles about client and server functionalities, SIP, TURN, RTP, and many open sources framworks</p>
</li>
<li><p><a href="https://planetcalc.com/3144/">VOIP call bandwidth</a>: a very key factor in VoIP application is bandwidth consumption, it‚Äôs good to not going far beyond the accepted limit</p>
</li>
<li><p><a href="https://www.voip-info.org/routers-sip-alg">Routers SIP ALG</a>: this is the most annoying, because there is NAT and many types of NAT, also router with SIP ALG</p>
</li>
<li><p><a href="http://sipsimpleclient.org/projects/sipsimpleclient/wiki/SipCoreApiDocumentation">SIP SIMPLE Client SDK</a>: introduction to SIP core library, but it gives an overview of how</p>
</li>
</ul>
<h2 id="SIP"><a href="#SIP" class="headerlink" title="SIP"></a>SIP</h2><blockquote>
<p>The <strong>Session Initiation Protocol</strong> (<strong>SIP</strong>) is a <a href="https://en.wikipedia.org/wiki/Communications_protocol">communications protocol</a> for <a href="https://en.wikipedia.org/wiki/Signaling_(telecommunications)">signaling</a> and controlling multimedia <a href="https://en.wikipedia.org/wiki/Communication_session">communication sessions</a> in applications of <a href="https://en.wikipedia.org/wiki/Internet_telephony">Internet telephony</a> for voice and video calls, in private IP telephone systems, as well as in <a href="https://en.wikipedia.org/wiki/Instant_messaging">instant messaging</a> over <a href="https://en.wikipedia.org/wiki/Internet_Protocol">Internet Protocol</a> (IP) networks.</p>
</blockquote>
<p><img src="https://cdn-images-1.medium.com/max/2000/0*QBmsgWtKc5q30xgb.jpeg" alt=""></p>
<ul>
<li><p><a href="https://en.wikipedia.org/wiki/Session_Initiation_Protocol">Session Initiation Protocol</a></p>
</li>
<li><p><a href="https://www.ietf.org/rfc/rfc3261.txt">RFC 3261</a>: to understand SIP, we need to read its standard. I don‚Äôt know how many times I read this RFC.</p>
</li>
<li><p><a href="http://www.opensips.org">OpenSIPS</a>: OpenSIPS is a multi-functional, multi-purpose signaling SIP server</p>
</li>
<li><p><a href="http://www.tech-invite.com/fo-sip/tinv-fo-sip-archi.html">SIP protocol structure through an example</a>: this is a must read, it shows very basic but necessary knowledge</p>
</li>
<li><p><a href="http://www.siptutorial.net/SIP/relation.html">Relation among Call, Dialog, Transaction &amp; Message</a>: basic concepts about call, dialog, transaction and message</p>
</li>
<li><p><a href="https://www.microsip.org">microSIP</a>: Open source portable SIP softphone for Windows based on PJSIP stack. I used to use this to test my pjsip tweaked library before building it for mobile</p>
</li>
<li><p><a href="https://code.google.com/archive/p/csipsimple/wikis/WhatIsSIP.wiki">What is SIP</a>: introduction to SIP written by the author of CSipSimple</p>
</li>
<li><p><a href="https://www.onsip.com/blog/sip-proxy-server">What is SIP proxy server</a></p>
</li>
<li><p><a href="https://wiki.wireshark.org/SIP">SIP by Wireshack</a>: introduction to SIP written by Wireshack. I used Wireshack a lot to intercept and debug SIP sessions</p>
</li>
<li><p><a href="http://www.ingate.com/files/Solving_Firewall-NAT_Traversal.pdf">Solving the Firewall/NAT Traversal Issue of SIP</a>: this shows how NAT can be a problem to SIP applications and how NAT traversal works</p>
</li>
<li><p><a href="https://www.codeproject.com/Articles/97657/Introduction-to-SIP-for-Java-C-and-VB-Developers">Introduction to SIP for Java, C#, and VB Developers</a></p>
</li>
<li><p><a href="https://www.doubango.org/sipml5/">SipML5</a> SIP client written in Javascript</p>
</li>
<li><p><a href="https://wiki.asterisk.org/wiki/display/AST/SIP+Retransmissions">SIP Retransmissions</a>: what and how to handle retransmission</p>
</li>
<li><p><a href="https://tools.ietf.org/html/draft-ietf-sipping-dialogusage-06">draft-ietf-sipping-dialogusage-06</a>: this is a draft about Multiple Dialog Usages in the Session Initiation Protocol</p>
</li>
<li><p><a href="https://docs.switzernet.com/people/emin-gabrielyan/070403-sip-invite-cancel/">Creating and sending INVITE and CANCEL SIP text messages</a>: SIP also supports sending text message, not just audio and video packages. This isa good for chat application</p>
</li>
</ul>
<h2 id="SIP-server"><a href="#SIP-server" class="headerlink" title="SIP server"></a>SIP server</h2><ul>
<li><a href="https://www.voip-info.org/kamailio">Kamailio</a>: this is the server that I used, and it plays well with lots of standard SIP clients, including pjsip. Debugging on this server was also a fun story</li>
</ul>
<p><img src="https://cdn-images-1.medium.com/max/2000/0*2bnrKUxdiJMuqO1D.png" alt=""></p>
<ul>
<li><p><a href="http://nil.uniza.sk/sip/nat-fw/configuring-nat-traversal-using-kamailio-31-and-rtpproxy-server">Configuring NAT traversal using Kamailio 3.1 and the Rtpproxy server</a>: I don‚Äôt know how many times I had read this post</p>
</li>
<li><p><a href="http://www.thewindowsclub.com/set-up-sip-server-windows">How to set up and use SIP Server on Windows</a>: I used this to test a working SIP server on Windows</p>
</li>
<li><p><a href="https://www.sipwise.org/news/technical/byov-system-spce-as-sbc/">Build your own VoIP System</a></p>
</li>
<li><p><a href="https://puck.nether.net/pipermail/voiceops/2011-May/002512.html">OpenSIPS/Kamailio serving far end nat traversal</a>: discussion about how Kamailio deals with NAT traversal</p>
</li>
<li><p><a href="http://kamailio.org/docs/modules/3.0.x/modules_k/nat_traversal.html">NAT Traversal Module</a>: how NAT traversal works in Kamailio as a module</p>
</li>
</ul>
<h2 id="RFC"><a href="#RFC" class="headerlink" title="RFC"></a>RFC</h2><p>RTP, SIP clients and server need to conform to some predefined protocols to meet standard and to be able to talk with each other. You need to read <a href="https://en.wikipedia.org/wiki/Request_for_Comments">RFC</a> a lot, besides you need to read some drafts.</p>
<ul>
<li><p><a href="https://tools.ietf.org/html/rfc3550">RFC 3550 - RTP: A Transport Protocol for Real-Time Applications</a></p>
</li>
<li><p><a href="https://tools.ietf.org/html/rfc3261">RFC 3261 - SIP: Session Initiation Protocol</a></p>
</li>
<li><p><a href="https://tools.ietf.org/id/draft-takeda-symmetric-nat-traversal-00.txt">Symmetric NAT Traversal using STUN</a></p>
</li>
<li><p><a href="https://tools.ietf.org/html/rfc3842">RFC 3842 - A Message Summary and Message Waiting Indication Event Package for the Session Initiation Protocol (SIP)</a></p>
</li>
</ul>
<h2 id="NAT"><a href="#NAT" class="headerlink" title="NAT"></a>NAT</h2><p>NAT solves the problem with lack of IP, but it causes lots of problem for SIP applications, and for me as well üòÇ</p>
<p><img src="https://cdn-images-1.medium.com/max/2000/0*CyseeMdKG6RWTsoM.gif" alt=""></p>
<ul>
<li><p><a href="https://en.wikipedia.org/wiki/Network_address_translation">Network address translation</a>: Network address translation (NAT) is a method of remapping one IP address space into another by modifying network address information in the IP header of packets while they are in transit across a traffic routing device</p>
</li>
<li><p><a href="https://kb.smartvox.co.uk/voip-sip/sip-nat-problem/">SIP and NAT: Why is it a problem?</a></p>
</li>
<li><p><a href="http://www.freeccnaworkbook.com/workbooks/ccna/configuring-port-address-translation-pat-many-to-one">Configuring Port Address Translation (PAT)</a>: how to configure port forwarding</p>
</li>
<li><p><a href="http://www.think-like-a-computer.com/2011/09/16/types-of-nat/">Types Of NAT Explained (Port Restricted NAT, etc)</a>: This is a must read. I didn‚Äôt expect there‚Äôs many kinds of NAT in real life, and how each type affects SIP application in its own way</p>
</li>
<li><p><a href="http://www.think-like-a-computer.com/2011/03/14/one-way-audio-voip/">One Way Audio SIP Fix</a>: sometimes we get the problem that only 1 person can speak, this talks about why</p>
</li>
<li><p><a href="http://freshmeat.sourceforge.net/articles/nat-traversal-for-the-sip-protocol">NAT traversal for the SIP protocol</a>: explains RTP, SIP and NAT</p>
</li>
<li><p><a href="http://www.goto.info.waseda.ac.jp/~wei/file/wei-apan-v10.pdf">A New Method for Symmetric NAT Traversal in UDP and TCP</a></p>
</li>
<li><p><a href="https://voipstudio.com/sip-nat-traversal/">SIP NAT Traversal</a>: This is a must read. How to make SIP work under NAT</p>
</li>
<li><p><a href="http://www.viagenie.ca/publications/2008-09-24-astricon-stun-turn-ice.pdf">NAT and Firewall Traversal with STUN / TURN / ICE</a>: pjsip and Kamailio actually supports STUN, TURN and ICE protocol. Learn about these concepts and how to make it work</p>
</li>
<li><p><a href="http://www.pjsip.org/pjnath/docs/html/group__nat__intro.htm">Introduction to Network Address Translation (NAT) and NAT Traversal</a></p>
</li>
</ul>
<h2 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h2><p>Learn how TCP helps SIP in initiating session and to turn in TCP mode for package sending</p>
<p><img src="https://cdn-images-1.medium.com/max/2826/0*OKLXqTzL1z4-OhZO.png" alt=""></p>
<ul>
<li><p><a href="https://en.wikipedia.org/wiki/Transmission_Control_Protocol">Transmission Control Protocol</a>: The Transmission Control Protocol (TCP) is one of the main protocols of the Internet protocol suite. It originated in the initial network implementation in which it complemented the Internet Protocol (IP)</p>
</li>
<li><p><a href="https://en.wikipedia.org/wiki/Network_socket#Datagram_socket">Datagram socket</a>: A datagram socket is a type of network socket which provides a connectionless point for sending or receiving data packets.[2] Each packet sent or received on a datagram socket is individually addressed and routed</p>
</li>
<li><p><a href="https://stackoverflow.com/questions/7735618/tcp-rst-packet-details">TCP RST packet details</a>: learn the important of RST bit</p>
</li>
<li><p><a href="https://stackoverflow.com/questions/11410754/rst-packet-sent-from-application-when-tcp-connection-not-getting-closed-properly?rq=1">RST packet sent from application when TCP connection not getting closed properly</a></p>
</li>
<li><p><a href="https://stackoverflow.com/questions/3870260/why-will-a-tcp-server-send-a-fin-immediately-after-accepting-a-connection">Why will a TCP Server send a FIN immediately after accepting a connection?</a></p>
</li>
<li><p><a href="https://blogs.technet.microsoft.com/networking/2009/08/12/where-do-resets-come-from-no-the-stork-does-not-bring-them/">Where do resets come from? (No, the stork does not bring them.)</a>: learn about 3 ways handshake in TCP connection</p>
</li>
<li><p><a href="http://www.linuxjournal.com/files/linuxjournal.com/linuxjournal/articles/023/2333/2333s2.html">TCP listen() Backlog</a></p>
</li>
<li><p><a href="http://www.freesoft.org/CIE/Course/Section4/6.htm">Sockets and Ports</a>: Do not confuse between socket and port</p>
</li>
<li><p><a href="http://www.pasieronen.com/publications/NRCTR2008002.pdf">TCP Wake-Up: Reducing Keep-Alive Traffic in Mobile IPv4 and IPsec NAT Traversal</a></p>
</li>
<li><p><a href="https://code.google.com/archive/p/csipsimple/issues/1582">failed to register using tcp only</a></p>
</li>
<li><p><a href="https://code.google.com/archive/p/csipsimple/issues/705">TCP vs UDP</a></p>
</li>
</ul>
<h2 id="TLS"><a href="#TLS" class="headerlink" title="TLS"></a>TLS</h2><p>Learn about <a href="https://en.wikipedia.org/wiki/Transport_Layer_Security">Transport Layer Security</a> and SSL, especially openSSL for how to secure SIP connection. The interesting thing is to read code in pjsip about how it uses openSSL to encrypt messages</p>
<ul>
<li><p><a href="https://trac.pjsip.org/repos/wiki/TLS">Configuring PJSIP with TLS</a></p>
</li>
<li><p><a href="https://stackoverflow.com/questions/8178963/why-tls-for-sip">Why TLS for SIP</a></p>
</li>
<li><p><a href="http://excelsupport.dialogic.com/imgpubs/webhelp/sip_over_tls_ov.htm">SIP Signaling Over TLS</a></p>
</li>
<li><p><a href="https://www.techrepublic.com/blog/data-center/ssl-tls-certificates-what-you-need-to-know/">SSL/TLS certificates: What you need to know</a></p>
</li>
<li><p><a href="http://nil.uniza.sk/network-security/tls/configuring-tls-support-kamailio-31-howto">Configuring TLS support in Kamailio 3.1 ‚Äî Howto</a>: learn how to enable TLS mode in Kamailio</p>
</li>
<li><p><a href="https://www.voip-info.org/sip-tls">SIP TLS</a>: how to configure TLS in Asterisk</p>
</li>
</ul>
<h2 id="ICE"><a href="#ICE" class="headerlink" title="ICE"></a>ICE</h2><p>Learn about <a href="https://en.wikipedia.org/wiki/Interactive_Connectivity_Establishment">Interactive Connectivity Establishment</a>, another way to workaround NAT</p>
<ul>
<li><p><a href="https://www.slideshare.net/oej/sip-2012-ice-nat-traversal-for-media">SIP 2012:: ICE ‚Äî NAT traversal for media</a></p>
</li>
<li><p><a href="https://blog.pjsip.org/2007/04/06/introducing-pjnath-open-source-ice-stun-and-turn/">Introducing pjnath ‚Äî Open Source ICE, STUN, and TURN for NAT Traversal</a></p>
</li>
<li><p><a href="http://www.pjsip.org/pjmedia/docs/html/group__PJMEDIA__TRANSPORT__ICE.htm">ICE Media Transport</a></p>
</li>
</ul>
<h2 id="STUN-and-TURN"><a href="#STUN-and-TURN" class="headerlink" title="STUN and TURN"></a>STUN and TURN</h2><p>Learn about <a href="https://en.wikipedia.org/wiki/STUN">Session Traversal Utilities for NAT</a> and <a href="https://en.wikipedia.org/wiki/Traversal_Using_Relays_around_NAT">Traversal Using Relays around NAT</a>, another way to workaround NAT</p>
<ul>
<li><p><a href="https://www.voip-info.org/stun">STUN</a>: STUN (Simple Traversal of UDP through NATs (Network Address Translation)) is a protocol for assisting devices behind a NAT firewall or router with their packet routing. RFC 5389 redefines the term STUN as ‚ÄòSession Traversal Utilities for NAT‚Äô.</p>
</li>
<li><p><a href="https://stackoverflow.com/questions/13501288/what-is-stun-and-does-it-need-a-port-forwarded-server">What is STUN and does it need a port-forwarded server?</a></p>
</li>
<li><p><a href="http://turnserver.sourceforge.net">TURN server</a></p>
</li>
</ul>
<h2 id="ALG"><a href="#ALG" class="headerlink" title="ALG"></a>ALG</h2><p>Learn about [Application Layer Gateway](<a href="http://Application">http://Application</a> Layer Gateway) and how it affects your SIP application. This component knows how to deal and modify your SIP message, so it might introduce unexpected behaviours.</p>
<ul>
<li><p><a href="https://support.gradwell.com/hc/en-gb/articles/215553503">What is SIP ALG and why does Gradwell recommend that I turn it off?</a></p>
</li>
<li><p><a href="https://www.juniper.net/documentation/software/junos-security/junos-security95/junos-security-swconfig-security/sip-alg-understanding.html">Understanding the SIP ALG</a></p>
</li>
<li><p><a href="http://www.voiptuts.com/2011/02/what-is-sip-alg-application-layer.html">What Is Sip ALG (Application Layer Gateway) Voip firewall</a></p>
</li>
<li><p><a href="http://www.watchguard.com/help/docs/wsm/11/en-us/content/en-us/proxies/sip/sip_proxy_about_c.html">About the SIP ALG</a></p>
</li>
<li><p><a href="https://www.juniper.net/documentation/software/junos-security/junos-security96/junos-security-swconfig-security/id-60290.html">Understanding SIP with Network Address Translation (NAT)</a>: This is a must read, a very thorough document</p>
</li>
</ul>
<h2 id="Voice-quality"><a href="#Voice-quality" class="headerlink" title="Voice quality"></a>Voice quality</h2><p>Learn about voice quality, bandwidth and fixing delay in audio</p>
<p><img src="https://cdn-images-1.medium.com/max/2000/1*Gst1j53g8PaqkBuP6RbZZg.png" alt=""></p>
<ul>
<li><p><a href="https://www.voipmechanic.com/phoneandvoicequality_2.htm">VoIP ‚Äî fixing voice quality</a></p>
</li>
<li><p><a href="https://www.lifewire.com/delay-in-voip-3426312">What is Delay in VoIP?</a></p>
</li>
<li><p><a href="https://www.cisco.com/c/en/us/support/docs/voice/voice-quality/5125-delay-details.html">Understanding Delay in Packet Voice Networks</a></p>
</li>
<li><p><a href="https://hubpages.com/technology/Reducing-the-SIP-Packet-Size-in-VoIP">Reducing the SIP Packet Size in VoIP</a></p>
</li>
<li><p><a href="https://www.lifewire.com/what-affects-voice-quality-in-voip-calls-3426724">What Affects Voice Quality in VoIP Calls</a></p>
</li>
<li><p><a href="https://www.voip-info.org/5-curable-causes-of-poor-voip-call-quality">5 Curable Causes of Poor VoIP Call Quality</a></p>
</li>
<li><p><a href="https://kb.smartvox.co.uk/voip-sip/rtp-jitter-audio-quality-voip/">RTP, Jitter and audio quality in VoIP</a>: learn about the important of jitter and RTP</p>
</li>
<li><p><a href="https://www.comsys.rwth-aachen.de/fileadmin/papers/2012/2012-aktas-new2an-codecswitching.pdf">An Adaptive Codec Switching Scheme for SIP-based VoIP</a>: explain codec switching during call in SIP based VoIP</p>
</li>
<li><p><a href="https://searchunifiedcommunications.techtarget.com/tutorial/VoIP-bandwidth-fundamentals">How to master VoIP bandwidth fundamentals</a></p>
</li>
<li><p><a href="https://www.cisco.com/c/en/us/support/docs/voice/voice-quality/7934-bwidth-consume.html">Voice Over IP ‚Äî Per Call Bandwidth Consumption</a></p>
</li>
</ul>
<h2 id="Echo"><a href="#Echo" class="headerlink" title="Echo"></a>Echo</h2><p>This is a very common problem in VoIP, sometimes we hear voice from the other and also from us. Learn how echo is made, and how to effectively do echo cancellation</p>
<p><img src="https://cdn-images-1.medium.com/max/2000/0*GyZHcz0TKL_UHdYJ.png" alt=""></p>
<ul>
<li><p><a href="https://www.cisco.com/c/en/us/td/docs/ios/solutions_docs/voip_solutions/EA_ISD.html">Echo Analysis for Voice over IP</a></p>
</li>
<li><p><a href="https://www.speex.org/docs/manual/speex-manual/node7.html#SECTION00740000000000000000">Echo Cancellation</a>: How to use Speex to cancel echo</p>
</li>
<li><p><a href="https://en.wikipedia.org/wiki/Echo_suppression_and_cancellation">Echo suppression and cancellation</a></p>
</li>
<li><p><a href="https://www.voip-info.org/echo-and-sidetone">Echo and Sidetone</a>: A telephone is a duplex device, meaning it is both transmitting and receiving on the same pair of wires. The phone network must ensure that not too much of the caller‚Äôs voice is fed back into his or her receiver</p>
</li>
<li><p><a href="https://www.voipmechanic.com/echo-technical.htm">VoIP Echo and how to correct it</a></p>
</li>
<li><p><a href="https://www.voip-info.org/causes-of-echo">Causes of Echo</a></p>
</li>
<li><p><a href="https://stackoverflow.com/questions/18870124/how-software-echo-canceller-works">How software echo canceller works?</a>: I asked about how we use software to do echo cancellation</p>
</li>
</ul>
<h2 id="Dual-Tone"><a href="#Dual-Tone" class="headerlink" title="Dual Tone"></a>Dual Tone</h2><p>Learn how to generate dual tone to make signal in telecommunication</p>
<ul>
<li><p><a href="https://www.mediacollege.com/audio/tone/dtmf.html">DTMF (Dual-Tone Multi-Frequency)</a></p>
</li>
<li><p><a href="https://www.3cx.com/blog/voip-howto/dtmf-rfc2833/">The dance of DTMF, SIP &amp; RFC 2833 ‚Äî An introduction</a></p>
</li>
<li><p><a href="https://trac.pjsip.org/repos/wiki/FAQ#dtmf">How can I send inband DTMF tones?</a></p>
</li>
</ul>
<h2 id="pjsip"><a href="#pjsip" class="headerlink" title="pjsip"></a>pjsip</h2><blockquote>
<p>PJSIP is a free and <a href="http://www.pjsip.org/about.htm#opensource">open source</a> multimedia communication library written in C language implementing standard based protocols such as SIP, SDP, RTP, STUN, TURN, and ICE. It combines signaling protocol (SIP) with rich multimedia framework and NAT traversal functionality into high level API that is portable and suitable for almost any type of systems ranging from desktops, embedded systems, to mobile handsets.</p>
</blockquote>
<p><img src="https://cdn-images-1.medium.com/max/2000/0*E82pcZW_6lhy8l1H.jpg" alt=""></p>
<ul>
<li><p><a href="http://www.pjsip.org/pjsip/docs/html/group__PJSUA__LIB.htm">PJSUA API ‚Äî High Level Softphone API</a>: high level usage of pjsip</p>
</li>
<li><p><a href="https://www.scribd.com/document/55939030/Suresh-Report-Voip1">pjsip library architecture</a></p>
</li>
<li><p><a href="https://trac.pjsip.org/repos/">pjsip documentation</a></p>
</li>
</ul>
<p><img src="https://cdn-images-1.medium.com/max/2000/0*e4Lr7TxJlSdQhA-b.png" alt=""></p>
<ul>
<li><p><a href="http://www.pjsip.org/pjsip/docs/html/group__PJSIP__TRANSACT__UTIL.htm">Stateful Operations</a>: common functions to send request statefully</p>
</li>
<li><p><a href="http://www.pjsip.org/pjsip/docs/html/group__PJSIP__ENDPT__STATELESS.htm">Message Creation and Stateless Operations</a>: functions related to send and receive messages</p>
</li>
<li><p><a href="https://trac.pjsip.org/repos/wiki/media-flow#IncomingRTPRTCPPackets">Understanding Media Flow</a>: this is a must read. The media layer is so important, it controls sound, codec and conference bridge.</p>
</li>
</ul>
<p><img src="https://cdn-images-1.medium.com/max/2000/1*oEs7lMDuaSG-En-R7ig-og.png" alt=""></p>
<ul>
<li><p><a href="http://www.pjsip.org/using.htm">Getting Started: Building and Using PJSIP and PJMEDIA</a>: This article describes how to download, customize, build, and use the open source PJSIP and PJMEDIA SIP and media stack</p>
</li>
<li><p><a href="http://www.pjsip.org/pjmedia/docs/html/group__PJMEDIA__CODEC.htm">Codec Framework</a>: pjsip supports multiple codec</p>
</li>
<li><p><a href="http://www.pjsip.org/pjmedia/docs/html/group__PJMED__JBUF.htm">Adaptive jitter buffer</a>: this takes sometime to understand, but it plays an important part in making pjsip work properly regarding buffer handling</p>
</li>
<li><p><a href="http://www.pjsip.org/pjsip/docs/html/group__PJSUA__LIB__ACC.htm">PJSUA-API Accounts Management</a>: how to register account in pjsua</p>
</li>
<li><p><a href="http://www.pjsip.org/pjlib/docs/html/group__pj__dll__target.htm">Building Dynamic Link Libraries (DLL/DSO)</a>: how to build pjsip as a dynamic library</p>
</li>
<li><p><a href="http://www.pjsip.org/pjmedia/docs/html/group__PJMEDIA__CONFIG.htm">Compile time configuration</a>: lots of configuration we can apply to pjsip</p>
</li>
<li><p><a href="http://www.pjsip.org/pjlib/docs/html/group__PJ__POOL__GROUP.htm">Fast Memory Pool</a>: pjsip has its own memory pool. It‚Äôs very interesting to look at the source code and learn something new</p>
</li>
<li><p><a href="http://www.pjsip.org/sip_media_features.htm">SIP and Media Features</a></p>
</li>
<li><p><a href="https://trac.pjsip.org/repos/wiki/Using_SIP_TCP">Using SIP TCP Transport</a>: How to enable TCP mode in SIP and to initiate SIP session</p>
</li>
<li><p><a href="http://www.pjsip.org/pjmedia/docs/html/group__PJMEDIA__STEREO.htm">Monochannel and multichannel audio frame converter</a>: interesting read about mono and multi channel</p>
</li>
<li><p><a href="http://www.pjsip.org/pjlib/docs/html/group__PJ__IOQUEUE.htm">IOQueue: I/O Event Dispatching with Proactor Pattern</a>: the code for this is very interesting and plays a fundamental in how pjsip handles events</p>
</li>
<li><p><a href="http://www.pjsip.org/pjlib-util/docs/html/group__PJ__DNS__RESOLVER.htm">DNS Asynchronous/Caching Resolution Engine</a>: how pjsip handles DNS resolution by itself</p>
</li>
</ul>
<p><img src="https://cdn-images-1.medium.com/max/2000/0*VBotMl-b9232q1JL.png" alt=""></p>
<ul>
<li><p><a href="http://www.pjsip.org/pjlib/docs/html/group__PJ__SSL__SOCK.htm">Secure socket I/O</a>: the code for this is important if you want to learn how to use SSL under the hood</p>
</li>
<li><p><a href="http://www.pjsip.org/pjmedia/docs/html/group__PJMEDIA__MF__DTMF__TONE__GENERATOR.htm">Multi-frequency tone generator</a>: I learn a lot how pjsip uses sin wave to generate tone</p>
</li>
<li><p><a href="http://www.pjsip.org/pjsip/docs/html/group__PJSIP__RESOLVE.htm">SIP SRV Server Resolution (RFC 3263 ‚Äî Locating SIP Servers)</a>: learn the mechanism for how pjsip finds a particular SIP server</p>
</li>
<li><p><a href="http://www.pjsip.org/pjlib/docs/html/group__PJ__EXCEPT.htm">Exception Handling</a>: how to do Try Catch in C</p>
</li>
<li><p><a href="https://trac.pjsip.org/repos/wiki/PJSUA_Locks">Mutex Locks Order in PJSUA-LIB</a>: how multiple locks at each layer helps ensure correction and avoid deadlocks. I had lots of nightmare debugging deadlocks with pjsip üò±</p>
</li>
</ul>
<h2 id="Threading"><a href="#Threading" class="headerlink" title="Threading"></a>Threading</h2><p>pjsip uses <a href="https://en.wikipedia.org/wiki/Thread-local_storage">Local Thread Storage</a> which introduces very cool behaviors</p>
<p><img src="https://cdn-images-1.medium.com/max/2000/0*rD0iy3joZsBXsMYo.png" alt=""></p>
<ul>
<li><p><a href="http://www.pjsip.org/pjlib/docs/html/group__PJ__THREAD.htm">Thread ‚Äî Operating System Dependent Functionality</a></p>
</li>
<li><p><a href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2009-April/006997.html">Threads question</a>: how pjlib handles thread</p>
</li>
<li><p><a href="https://msdn.microsoft.com/en-us/library/windows/desktop/ms686991(v=vs.85).aspx">Using Thread Local Storage</a>: how to use TlsAlloc and TlsFree in Windows</p>
</li>
<li><p><a href="http://www.installsetupconfig.com/win32programming/windowsthreadsprocessapis7_7.html">The Windows Processes and Threads 8</a></p>
</li>
<li><p><a href="https://www.ibm.com/support/knowledgecenter/ssw_ibm_i_61/rzahw/rzahwex1.htm">Example: Thread local storage in a Pthread program</a>: how Pthread works</p>
</li>
<li><p><a href="http://www.pjsip.org/pjlib/docs/html/group__PJ__TLS.htm">Thread Local Storage</a>: learn about pj_thread</p>
</li>
</ul>
<h2 id="Resampling"><a href="#Resampling" class="headerlink" title="Resampling"></a>Resampling</h2><p>How to work with sample rate of the media stream</p>
<p><img src="https://cdn-images-1.medium.com/max/2000/0*DkP_SZQGZaSdvZAF.jpg" alt=""></p>
<ul>
<li><p><a href="http://www.pjsip.org/pjmedia/docs/html/group__PJMEDIA__RESAMPLE__PORT.htm">Resample Port</a>: how to perform resampling in pjmedia</p>
</li>
<li><p>Resampling Algorithm: code to perform resampling</p>
</li>
<li><p><a href="http://www.pjsip.org/pjmedia/docs/html/page_pjmedia_samples_resampleplay_c.htm">Samples: Using Resample Port</a>: very straightforward example to change sample rate of the media stream</p>
</li>
</ul>
<h2 id="Memory-and-Performance"><a href="#Memory-and-Performance" class="headerlink" title="Memory and Performance"></a>Memory and Performance</h2><ul>
<li><p><a href="http://comments.gmane.org/gmane.comp.voip.pjsip/14219">Memory allocation strategy</a></p>
</li>
<li><p><a href="http://www.pjsip.org/high-performance-sip.htm">PJSIP ‚Äî High Performance Open Source SIP Stack</a></p>
</li>
</ul>
<h2 id="Audio"><a href="#Audio" class="headerlink" title="Audio"></a>Audio</h2><ul>
<li><p><a href="https://trac.pjsip.org/repos/wiki/audio-how-to-record">How to Record Audio with pjsua</a>: how to use pjsua to record audio.</p>
</li>
<li><p><a href="http://www.pjsip.org/pjmedia/docs/html/group__PJMEDIA__MEM__CAPTURE.htm">Memory/Buffer-based Capture Port</a>: believe me, you will jump into pjmedia_mem_capture_create a lot</p>
</li>
<li><p><a href="http://www.pjsip.org/pjmedia/docs/html/group__PJMEDIA__FILE__REC.htm">File Writer (Recorder)</a>: record audio to .wav file</p>
</li>
<li><p><a href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-February/001838.html">Using pjsua to create a mp3 stream</a></p>
</li>
<li><p><a href="https://www.codeproject.com/Articles/332109/AMR-Audio-Encoding">AMR Audio Encoding</a>: understands AMR encoding</p>
</li>
<li><p><a href="http://www.pjsip.org/pjmedia/docs/html/group__audio__device__api.htm">Audio Device API</a>: how pjsip detects and use Audio device</p>
</li>
<li><p><a href="http://www.pjsip.org/pjmedia/docs/html/group__PJMED__SND__PORT.htm">Sound Device Port</a>: Media Port Connection Abstraction to the Sound Device</p>
</li>
<li><p><a href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2009-December/009719.html">audio bursting</a></p>
</li>
<li><p><a href="http://comments.gmane.org/gmane.comp.voip.pjsip/11623">Buffer problem</a></p>
</li>
<li><p><a href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2009-March/006783.html">Problem with PJMEDIA‚Äôs play callback</a></p>
</li>
<li><p><a href="http://www.pjsip.org/pjmedia/docs/html/group__PJMEDIA__FRAME__OP.htm">Audio Manipulation Algorithms</a>: lots of cool algorithm written in C for audio manipulation. The hardest and most imporant one is probably <a href="http://www.pjsip.org/pjmedia/docs/html/group__PJMED__JBUF.htm">Adaptive jitter buffer</a></p>
</li>
<li><p><a href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2010-January/010167.html">bad quality on iphone 2G with os 3.0</a>: No one would use iPhone 2G now, but it‚Äôs good to be aware of older phones</p>
</li>
<li><p><a href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2009-April/007265.html">getting Underflow, buf_cnt=0, will generate 1 frame continuessly</a>: how to handle underflow in pjmedia</p>
</li>
<li><p><a href="https://trac.pjsip.org/repos/wiki/MeasuringSoundLatency">Measuring Sound Latency</a>: This article describes how to measure both sound device latency and overall (end-to-end) latency of ‚Äãpjsua</p>
</li>
<li><p><a href="https://trac.pjsip.org/repos/wiki/audio-check-packet-loss">Checking for Network Impairments of Incoming RTP Packets</a></p>
</li>
<li><p><a href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2013-January/015647.html">Master/sound</a>: How master sound works and deal with no sound on the mic input port</p>
</li>
</ul>
<h2 id="Video"><a href="#Video" class="headerlink" title="Video"></a>Video</h2><p>I learn a lot regarding video capture, ffmpeg and color space, especially YUV</p>
<ul>
<li><p><a href="https://code.google.com/archive/p/siphon/wikis/VIdeoSupport.wiki">siphon ‚Äî VIdeoSupport.wiki</a>: How siphon deals with video before pjsip 2.0</p>
</li>
<li><p><a href="http://www.pjsip.org/pjmedia/docs/html/group__video__device__api.htm">Video Device API</a>; PJMEDIA Video Device API is a cross-platform video API appropriate for use with VoIP applications and many other types of video streaming applications.</p>
</li>
<li><p><a href="http://www.pjsip.org/pjsip/docs/html/group__PJSUA__LIB__VIDEO.htm">PJSUA-API Video</a>: Uses video APIs in pjsua with pjsip 2.1.0</p>
</li>
<li><p><a href="https://trac.pjsip.org/repos/wiki/Video_Users_Guide">PJSIP Video User‚Äôs Guide</a>: all you need to know about video support in pjsip</p>
</li>
<li><p><a href="http://www.pjsip.org/pjmedia/docs/html/group__PJMED__VID__STRM.htm">Video streams</a>: I can‚Äôt never forget pjmedia_vid_stream_create</p>
</li>
<li><p><a href="http://www.pjsip.org/pjmedia/docs/html/group__PJMEDIA__VID__TEE.htm">Video source duplicator</a>: duplicate video data in the stream.</p>
</li>
<li><p><a href="http://www.pjsip.org/pjmedia/docs/html/group__PJMEDIA__FILE__PLAY.htm">AVI File Player</a>: Video and audio playback from AVI file</p>
</li>
<li><p><a href="https://trac.pjsip.org/repos/wiki/ReleaseNotes-2.0">PJSIP Version 2.0 Release Notes</a>: starting with 2.0, pjsip supports video. Good to read</p>
</li>
<li><p><a href="https://trac.pjsip.org/repos/ticket/1263">Video API for PJSUA-LIB</a></p>
</li>
<li><p><a href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2012-July/014959.html">How to make a loopback video call with AVI file?</a></p>
</li>
<li><p><a href="https://stackoverflow.com/questions/3367187/what-is-lib-swscale-used-for-by-ffmpeg-programers">What is lib Swscale used for by ffmpeg programers?</a></p>
</li>
<li><p><a href="https://github.com/dmcrodrigues/FFmpeg-iOS-build-script">FFmpeg-iOS-build-script</a>: details how to build ffmpeg for iOS</p>
</li>
</ul>
<h2 id="CSipSimple"><a href="#CSipSimple" class="headerlink" title="CSipSimple"></a>CSipSimple</h2><p>There are many SIP client for mobile and desktop, <a href="https://www.microsip.org/">microSIP</a>, <a href="https://jitsi.org/">Jitsi</a>, <a href="https://www.linphone.org/technical-corner/linphone/overview">Linphone</a>, <a href="https://www.doubango.org/">Doubango</a>, ‚Ä¶ They all follow strictly SIP standard and may have their own SIP core, for example microSIP uses pjsip, Linphone uses liblinphone, ‚Ä¶</p>
<p>Among that, I learn a lot from the Android client, <a href="https://code.google.com/archive/p/csipsimple/">CSipSimple</a>, which offers very nice interface and have good functionalities. Unfortunately <a href="https://github.com/r3gis3r/CSipSimple/issues/6">Google Code was closed</a>, so I don‚Äôt know if the author has plan to do development on GitHub.</p>
<p>I also participated a lot on the Google forum for <a href="https://groups.google.com/forum/#!searchin/csipsimple-users/onmyway133%7Csort:date">user</a> and <a href="https://groups.google.com/forum/#!searchin/csipsimple-dev/onmyway133%7Csort:date">dev</a>. Thanks for Regis, I learn a lot about open source and that made me interested in open source.</p>
<p>You can read <a href="https://groups.google.com/forum/#!topic/csipsimple-dev/ihZN8s_-g_4">What is a branded version</a></p>
<blockquote>
<p>I don‚Äôt make any money from csipsimple at all. It‚Äôs a pure opensource and free as in speech project.<br>I develop it on my free time and just so that it benefit users.<br>That‚Äôs the reason why the project is released under GPL license terms. I advise you to read carefully the license (you‚Äôll learn a lot of things on the spirit of the license and the project) : <a href="http://www.gnu.org/licenses/gpl.html">http://www.gnu.org/licenses/gpl.html</a><br>To sump up, the spirit of the GPL is that users should be always allowed to see the source code of the software they use, to use it the way they want and to redistribute it.</p>
</blockquote>
<h2 id="RTP-Proxy"><a href="#RTP-Proxy" class="headerlink" title="RTP Proxy"></a>RTP Proxy</h2><p>Because of NAT or in case users want to talk via a proxy, then a <a href="http://www.rtpproxy.org/">RTP proxy</a> is needed. RTPProxy follows standard and works well with Kamailio</p>
<ul>
<li><p><a href="https://saevolgo.blogspot.no/2012/03/making-rtpproxy-work.html">Making RTPproxy work</a></p>
</li>
<li><p><a href="https://sourceforge.net/p/sippy/rtpproxy/ci/master/tree/">Sippy B2BUA and RFC3261 SIP Stack</a></p>
</li>
<li><p><a href="https://linux.die.net/man/8/rtpproxy">rtpproxy(8) ‚Äî Linux man page</a></p>
</li>
<li><p><a href="https://lists.kamailio.org//pipermail/sr-users/2008-April/062814.html">rtpproxy address filling</a></p>
</li>
</ul>
<h2 id="Other-related-articles"><a href="#Other-related-articles" class="headerlink" title="Other related articles"></a>Other related articles</h2><ul>
<li><p><a href="https://thestereobus.com/2008/01/12/sample-rate-and-bitrate-the-guts-of-digital-audio/">Sample Rate and Bitrate: The Guts of Digital Audio</a></p>
</li>
<li><p><a href="http://webcache.googleusercontent.com/search?q=cache:http://www.techexams.net/forums/ccnp/48768-voip-packet-size.html">VoIP Packet Size</a></p>
</li>
<li><p><a href="https://lists.freedesktop.org/archives/gstreamer-devel/2012-August/036865.html">How to measure brandwith consumption of an rtp stream?</a></p>
</li>
<li><p><a href="https://docs.microsoft.com/en-us/previous-versions/office/developer/communication-server-2007/bb759215(v=office.12)">Sending Reliable Provisional Responses</a></p>
</li>
<li><p><a href="https://trac.pjsip.org/repos/ticket/1586">SILK audio codec wrapper implementation</a></p>
</li>
<li><p><a href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-July/003843.html">conference bridge questions</a></p>
</li>
<li><p><a href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2012-January/014037.html">multiple audio devices, multiple calls, conferencing, recording and mix all of the above</a></p>
</li>
<li><p><a href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2010-January/010089.html">How to Know Offline Call</a></p>
</li>
<li><p><a href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-May/002857.html">Symmetric RTP</a></p>
</li>
<li><p><a href="https://trac.pjsip.org/repos/ticket/1412">Account specific NAT settings: STUN, ICE, and TURN</a></p>
</li>
<li><p><a href="https://technfun.wordpress.com/2008/11/06/sip-stories-part-3-invite-retransmission/">SIP stories, part 3: INVITE retransmission</a></p>
</li>
<li><p><a href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2010-February/010329.html">TCP/TLS reconnect</a></p>
</li>
<li><p><a href="https://lists.kamailio.org//pipermail/sr-users/2010-May/063880.html">Configuring TCP keep alive and connection lifetime</a></p>
</li>
<li><p><a href="http://lists.opensips.org/pipermail/users/2012-September/023057.html">Max TCP connections</a></p>
</li>
<li><p><a href="http://comments.gmane.org/gmane.comp.voip.pjsip/836">VAD detection scenario</a></p>
</li>
<li><p><a href="https://trac.pjsip.org/repos/ticket/1340">Handle native capture preview</a></p>
</li>
<li><p><a href="https://trac.pjsip.org/repos/ticket/1360">Video orientation support</a></p>
</li>
<li><p><a href="https://trac.pjsip.org/repos/ticket/95">Keep-alive mechanism for TCP and TLS transports</a></p>
</li>
<li><p><a href="https://trac.pjsip.org/repos/ticket/56">Periodically transmit RTP packet on silence</a></p>
</li>
<li><p><a href="https://trac.pjsip.org/repos/ticket/87">Conference bridge should transmit silence frame when level is zero</a></p>
</li>
<li><p><a href="https://trac.pjsip.org/repos/ticket/883">Add user defined NAT hole-punching and keep-alive mechanism to media stream</a></p>
</li>
</ul>
<h2 id="IP-change"><a href="#IP-change" class="headerlink" title="IP change"></a>IP change</h2><p>IP change during call can cause problem, such as when user goes from Wifi to 4G mode</p>
<ul>
<li><p><a href="http://comments.gmane.org/gmane.comp.voip.pjsip/16134">Proper way to handle Ip address changes in Android</a></p>
</li>
<li><p><a href="https://code.google.com/archive/p/csipsimple/issues/1423">support WiFi and 3G simultaneously</a></p>
</li>
</ul>
<h2 id="RTP-and-RTCP"><a href="#RTP-and-RTCP" class="headerlink" title="RTP and RTCP"></a>RTP and RTCP</h2><p>Learn about [Realtime transport control protocol](<a href="http://Real-time">http://Real-time</a> Transport Protocol) and how that works with RTP</p>
<ul>
<li><p><a href="http://disi.unitn.it/locigno/didattica/AdNet/10-11/05-5_VoIP-RTP_H.pdf">Voice over IP: RTP/RTCP ‚Äî The transport layer</a></p>
</li>
<li><p><a href="http://www.networksorcery.com/enp/protocol/rtcp.htm">RTCP, RTP Control Protocol</a></p>
</li>
<li><p><a href="http://www.netlab.tkk.fi/opetus/s38130/k99/presentations/4.pdf">Protocol overview: RTP and RTCP</a></p>
</li>
<li><p><a href="http://www.cs.odu.edu/~cs778/jeffay/Lecture6.pdf">The Multimedia Control Protocol RTCP</a></p>
</li>
<li><p><a href="http://www.pjsip.org/pjmedia/docs/html/page_pjmedia_samples_confsample_c.htm">Using Conference Bridge</a></p>
</li>
<li><p><a href="http://docs.huihoo.com/telecom/sip_rtp_stack.html">SIP and RTP Stack</a></p>
</li>
<li><p><a href="http://www.pjsip.org/pjmedia/docs/html/group__PJMEDIA__TRANSPORT.htm">Media Transport</a></p>
</li>
<li><p><a href="http://www.pjsip.org/pjmedia/docs/html/group__PJMED__RTP.htm">RTP Session and Encapsulation (RFC 3550)</a></p>
</li>
</ul>
<h2 id="Codec"><a href="#Codec" class="headerlink" title="Codec"></a>Codec</h2><p>To reduce payload size, we need to encode and decode the audio and video package. We usually use <a href="https://www.speex.org/">Speex</a> and <a href="https://opus-codec.org/">Opus</a>. Also, it‚Äôs good to understand the .wav format</p>
<ul>
<li><p><a href="http://www.topherlee.com/software/pcm-tut-wavformat.html">Digital Audio ‚Äî Creating a WAV (RIFF) file</a></p>
</li>
<li><p><a href="https://docs.microsoft.com/en-us/previous-versions/windows/xna/ff827591(v=xnagamestudio.41)">Streaming Data from a WAV File</a></p>
</li>
<li><p><a href="https://www.speex.org/docs/manual/speex-manual/node7.html">Programming with Speex (the libspeex API)</a></p>
</li>
<li><p><a href="https://www.speex.org/docs/manual/speex-manual/node10.html">Speex narrowband mode</a></p>
</li>
<li><p><a href="http://www.opus-codec.org/docs/">Developing with libopus (API reference)</a></p>
</li>
</ul>
<h2 id="Building-pjsip-for-Windows-Phone-8"><a href="#Building-pjsip-for-Windows-Phone-8" class="headerlink" title="Building pjsip for Windows Phone 8"></a>Building pjsip for Windows Phone 8</h2><p>Windows Phone 8 introduces C++ component , changes in threading, VoIP and audio background mode. To do this I need to find another threadpool component and tweak openSSL a bit to make it compile on Windows Phone 8. I lost the source code so can‚Äôt upload the code to GitHub üò¢. Also many links broke because Nokia was not here any more</p>
<ul>
<li><p><a href="https://trac.pjsip.org/repos/wiki/Getting-Started/Other-Platforms">Building for Other Platforms</a></p>
</li>
<li><p><a href="https://trac.pjsip.org/repos/wiki/Getting-Started/Windows-Phone">Getting Started: Building for UWP and Windows Phone 8.x</a></p>
</li>
<li><p><a href="http://www.pjsip.org/docs/latest/pjlib/docs/html/porting_pjlib_pg.htm">Porting to New CPU Architecture</a>: pjlib is the foundation of pjsip. Learn how to port it to another platform</p>
</li>
<li><p><a href="https://docs.microsoft.com/en-us/previous-versions/windows/desktop/apps/jj206983(v=vs.105)">VoIP apps for Windows Phone 8</a></p>
</li>
<li><p><a href="https://docs.microsoft.com/en-us/previous-versions/windows/desktop/apps/jj207046(v=vs.105)">How to implement audio streaming for VoIP calls for Windows Phone 8</a></p>
</li>
<li><p><a href="http://docs.embarcadero.com/products/rad_studio/delphiAndcpp2009/HelpUpdate2/EN/html/devwin32/oocinprocessoutofprocessandremoteservers_xml.html">In-process, Out-of-process, and Remote Servers</a></p>
</li>
<li><p><a href="https://www.codeproject.com/Articles/19605/Basics-of-an-IDL-file">Basics of an IDL file</a></p>
</li>
</ul>
<h2 id="Porting-OpenSSL-to-Windows-Phone-8"><a href="#Porting-OpenSSL-to-Windows-Phone-8" class="headerlink" title="Porting OpenSSL to Windows Phone 8"></a>Porting OpenSSL to Windows Phone 8</h2><p>Firstly, learn how to compile, use OpenSSL. How to call it from pjsip, and how to make it compile in Visual Studio for Windows Phone 8. I also learn the important of Winsock, how to port a library. I struggled a lot with porting openSSL to Windows RT, then to Windows Phone 8</p>
<p>A lot of links were broken üò¢ so I can‚Äôt paste them all here.</p>
<ul>
<li><p><a href="https://www.linuxjournal.com/article/4822">An Introduction to OpenSSL Programming</a></p>
</li>
<li><p><a href="https://mikaelkoskinen.net/post/ssl-socket-support-in-windows-phone">SSL Socket support in Windows Phone</a></p>
</li>
<li><p><a href="http://www.markarteaga.com/building-secure-windows-phone-8-apps-apis-and-techniques/">Building Secure Windows Phone 8 Apps ‚Äî APIs and Techniques</a></p>
</li>
<li><p><a href="https://social.msdn.microsoft.com/forums/windowsapps/en-US/8f3c82e6-3b42-4138-9342-f9d687ee6466/is-winsock-available-on-windows-phone-8">Is Winsock available on Windows Phone 8?</a></p>
</li>
<li><p><a href="https://social.msdn.microsoft.com/Forums/windowsapps/en-US/2662cac1-fbb6-4ac4-8553-06375d798720/why-i-am-not-been-able-to-use-all-the-header-files-egsslh-under-open-source-openssl-library-">Why i am not been able to use all the header files (eg-&gt;ssl.h) under open source openssl library</a></p>
</li>
<li><p><a href="https://msdn.microsoft.com/en-us/library/windows/desktop/ms738545(v=vs.85).aspx">Getting Started with Winsock</a></p>
</li>
<li><p><a href="http://developer.covenanteyes.com/building-openssl-for-visual-studio/">Building OpenSSL for Visual Studio</a></p>
</li>
<li><p><a href="http://eran.geek.co.il/wp/archives/3897">How to Compile OpenSSL for Visual Studio 2010/2012</a></p>
</li>
<li><p><a href="http://www.blogcompiler.com/2011/12/21/openssl-for-windows/">OpenSSL for Windows</a></p>
</li>
<li><p><a href="https://forum.xda-developers.com/showthread.php?t=2113595">OpenSSL for Windows RT</a></p>
</li>
<li><p><a href="https://rt.openssl.org/Ticket/Display.html?id=2911&user=guest&pass=guest">2911: enhancement request: Windows RT support</a></p>
</li>
<li><p><a href="https://stackoverflow.com/questions/1640258/need-a-fast-random-generator-for-c">Need a fast random generator for c++</a></p>
</li>
<li><p><a href="https://stackoverflow.com/questions/4796590/window-c-c-crypto-api-examples-and-tips">Window C/C++ Crypto API Examples and tips</a></p>
</li>
<li><p><a href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa379942(v=vs.85).aspx">CryptGenRandom function</a></p>
</li>
<li><p><a href="http://egd.sourceforge.net">EGD: The Entropy Gathering Daemon</a></p>
</li>
</ul>
<h2 id="C-and-C"><a href="#C-and-C" class="headerlink" title="C and C++"></a>C and C++</h2><p>Since pjsip, rtpproxy and kamailio are all C and C++ code. I needed to have a good understanding about them, especially pointer and memory handling. We also needed to learn about compile flags for debug and release builds, how to use Make, how to make static and dynamic libraries.</p>
<ul>
<li><p><a href="https://stackoverflow.com/questions/336585/what-does-a-const-pointer-to-pointer-mean-in-c-and-in-c">What does a const pointer-to-pointer mean in C and in C++?</a></p>
</li>
<li><p><a href="http://c-faq.com/index.html">comp.lang.c Frequently Asked Questions</a>: there‚Äôs lot of things about C we haven‚Äôt known about</p>
</li>
<li><p><a href="https://stackoverflow.com/questions/1358400/what-is-external-linkage-and-internal-linkage">What is external linkage and internal linkage?</a></p>
</li>
<li><p><a href="http://graphics.stanford.edu/~seander/bithacks.html">Bit Twiddling Hacks</a>: how to apply clever hacks with bit operators. Really really good reading here</p>
</li>
<li><p><a href="https://www.cprogramming.com/c++11/c++11-nullptr-strongly-typed-enum-class.html">Better types in C++11 ‚Äî nullptr, enum classes (strongly typed enumerations) and cstdint</a></p>
</li>
<li><p><a href="https://www.codeproject.com/Articles/85391/Microsoft-Visual-C-Static-and-Dynamic-Libraries">Microsoft Visual C++ Static and Dynamic Libraries</a></p>
</li>
<li><p><a href="https://www.codeproject.com/Articles/11634/Managed-C-Learn-by-Example-Part-1">Managed C++ ‚Äî Learn by Example</a></p>
</li>
<li><p><a href="http://www.cplusplus.com/doc/tutorial/preprocessor/">Preprocessor directives</a></p>
</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2018-02-27T11:30:02.000Z" title="2018-02-27T11:30:02.000Z">2018-02-27</time><span class="level-item">2 minutes read (About 307 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/Jitter-buffer-in-VoIP/">Jitter buffer in VoIP</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/157">#157</a></strong></p>
<p>This post was from long time ago when I did <a href="http://pjsip.org/">pjsip</a></p>
<hr>
<p>A jitter buffer temporarily stores arriving packets in order to minimize delay variations. If packets arrive too late then they are discarded. A jitter buffer may be mis-configured and be either too large or too small.  </p>
<h3 id="Impact"><a href="#Impact" class="headerlink" title="Impact"></a>Impact</h3><p>If a jitter buffer is too small then an excessive number of packets may be discarded, which can lead to call quality degradation. </p>
<p>Lower settings cause less delay in the meeting, but meetings with lower settings are more susceptible to jitter effects caused by network congestion. Less data is buffered, increasing the likelihood that delayed or lost packets will produce a jitter effect in the media stream.</p>
<p>If a jitter buffer is too large then the additional delay can lead to conversational difficulty.</p>
<p>Higher settings are more effective at reducing jitter effects. With higher settings, more data is buffered, which allows more time for delayed packets to arrive at the client. However, higher settings also result in more delay (or latency) in the meeting. A user who is speaking will not be heard immediately by the other meeting participants. The delay in the meeting increases with the amount of time that data is held in the buffer.</p>
<h3 id="Resolution"><a href="#Resolution" class="headerlink" title="Resolution"></a>Resolution</h3><p>A typical jitter buffer configuration is 30mS to 50mS in size. In the case of   an adaptive jitter buffer then the maximum size may be set to 100-200mS. Note that if the jitter buffer size exceeds 100mS then the additional delay introduced can lead to conversational difficulty.</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ol>
<li><p><a href="http://publib.boulder.ibm.com/infocenter/sametime/v7r5m1/index.jsp?topic=/com.ibm.help.sametime.admin.doc/st_adm_avserv_audframepacket_t.html">lib.boulder.ibm.com/infocenter/sametime</a>  </p>
</li>
<li><p><a href="http://www.voiptroubleshooter.com/problems/jitterbuffer.html">http://www.voiptroubleshooter.com</a></p>
</li>
</ol>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2018-02-27T11:25:18.000Z" title="2018-02-27T11:25:18.000Z">2018-02-27</time><span class="level-item">3 minutes read (About 480 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-calculate-packet-size-in-VoIP/">How to calculate packet size in VoIP</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/155">#155</a></strong></p>
<p>As you have probably observed in your studies, there is a determined method for calculating VoIP packet sizes. The packet size depends on many different variables, so there is no great answer for an ‚Äúaverage‚Äù packet size ‚Äì average depends on the environment. Just as an example, if you currently have VoIP running within a LAN and want to provision a new WAN so you can use VoIP to another site, knowing how big your VoIP packets are on the LAN won‚Äôt help. See below for a VoIP packet size calculation for a typical LAN, which will get you started.</p>
<h3 id="Packet-size"><a href="#Packet-size" class="headerlink" title="Packet size"></a>Packet size</h3><p>The general formula for VoIP packet size is this</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Frame overhead + Encapsulation overhead + IP overhead + Voice payload.</span><br></pre></td></tr></table></figure>

<p>Let‚Äôs say the packet is going across our LAN, so right now the frame overhead is 18 Bytes, for Ethernet II. (This size would change later if the packet crosses a trunk with 802.1Q tagging or ISL encapsulation, or is destined for the WAN, where a different link layer framing will probably be in use.)</p>
<h3 id="Encapsulation"><a href="#Encapsulation" class="headerlink" title="Encapsulation"></a>Encapsulation</h3><p>Encapsulation overhead would include things like IPSec tunnels for security. Suppose we are not encapsulating this voice packet, so there is no overhead here.</p>
<p>‚ÄúIP overhead‚Äù has overhead occurring at layer 3 and above, so for SIP phones this means IP (20 Bytes), UDP (8 Bytes), and RTP (12 Bytes). This is a total of 40 Bytes of IP overhead.</p>
<p>Lastly, you must calculate the size of the actual voice payload. Suppose we use the G.711 codec, which gives us a codec bandwidth of 64kbps. Also suppose our phones have a packetisation period of 20ms (meaning 20ms worth of voice goes into every packet). With these two numbers, we can figure out the size of the voice payload. Since one second of voice contains 64 kilobits of data (‚Äú64 kbps‚Äù), it is easy to calculate how many bits</p>
<p>Find the amount of Bytes per payload:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">64000 bits * .02 seconds &#x3D; 1280 bits of voice per payload  </span><br><span class="line">1280 bits &#x2F; 8 bits per byte &#x3D; 160 Bytes of voice per payload</span><br></pre></td></tr></table></figure>

<p>The total overhead is 58 Bytes (18 + 40)<br>The total VoIP packet size is 218 Bytes (160 + 58 )</p>
<p>In the interest of full disclosure, it is easy to get a bit rate per second from here; just convert 218 Bytes into bits and multiply by the packetization rate (which is the inverse of your packetization period, in this case 50 packets per second). The bit rate for ONE stream of this voice is 87.2kbps‚Ä¶ we hope the user isn‚Äôt just talking to himself, so double that for an actual phone conversation.</p>
<p>There are lots of other little things, like VAD and various header compressions, that you may need to factor into these calculations as well. As you can see, any one of these many things being off will give you a different answer, so knowing how to go about the entire process is important.</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ol>
<li><a href="www.techexams.net">www.techexams.net</a></li>
</ol>
</div></article></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="" src="https://avatars1.githubusercontent.com/u/2284279?s=460&amp;v=4" alt="onmyway133"></figure><p class="title is-size-4 is-block line-height-inherit">onmyway133</p><p class="is-size-6 is-block">iOS, macOS, Android, React. Serial maker. Writer. Speaker.</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Oslo, Norway</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">633</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">0</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">52</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/onmyway133" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/onmyway133"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/onmyway133"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile is-mobile" href="https://onmyway133.com/apps" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Apps</span></span><span class="level-right"><span class="level-item tag">onmyway133.com</span></span></a></li><li><a class="level is-mobile is-mobile" href="https://learntalks.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Learn Talks</span></span><span class="level-right"><span class="level-item tag">learntalks.com</span></span></a></li></ul></div></div></div><!--!--><div class="card widget"><div class="card-content"><h3 class="menu-label">Recent</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-10-27T08:56:33.000Z">2020-10-27</time></p><p class="title is-6"><a class="link-muted" href="/blog/When-to-use-function-vs-property-in-Swift/">When to use function vs property in Swift</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-10-25T19:55:33.000Z">2020-10-25</time></p><p class="title is-6"><a class="link-muted" href="/blog/How-to-use-CoreData-safely/">How to use CoreData safely</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-10-24T02:45:15.000Z">2020-10-24</time></p><p class="title is-6"><a class="link-muted" href="/blog/How-to-pass-ObservedObject-as-parameter-in-SwiftUI/">How to pass ObservedObject as parameter in SwiftUI</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-10-23T06:17:01.000Z">2020-10-23</time></p><p class="title is-6"><a class="link-muted" href="/blog/How-to-do-equal-width-in-SwiftUI/">How to do equal width in SwiftUI</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-10-16T02:06:04.000Z">2020-10-16</time></p><p class="title is-6"><a class="link-muted" href="/blog/What-define-a-good-developer/">What define a good developer</a></p><p class="is-uppercase"></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/10/"><span class="level-start"><span class="level-item">October 2020</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/09/"><span class="level-start"><span class="level-item">September 2020</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/08/"><span class="level-start"><span class="level-item">August 2020</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/06/"><span class="level-start"><span class="level-item">June 2020</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/05/"><span class="level-start"><span class="level-item">May 2020</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/04/"><span class="level-start"><span class="level-item">April 2020</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/03/"><span class="level-start"><span class="level-item">March 2020</span></span><span class="level-end"><span class="level-item tag">21</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/02/"><span class="level-start"><span class="level-item">February 2020</span></span><span class="level-end"><span class="level-item tag">20</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/01/"><span class="level-start"><span class="level-item">January 2020</span></span><span class="level-end"><span class="level-item tag">30</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/12/"><span class="level-start"><span class="level-item">December 2019</span></span><span class="level-end"><span class="level-item tag">36</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/11/"><span class="level-start"><span class="level-item">November 2019</span></span><span class="level-end"><span class="level-item tag">38</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/10/"><span class="level-start"><span class="level-item">October 2019</span></span><span class="level-end"><span class="level-item tag">49</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/09/"><span class="level-start"><span class="level-item">September 2019</span></span><span class="level-end"><span class="level-item tag">50</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/08/"><span class="level-start"><span class="level-item">August 2019</span></span><span class="level-end"><span class="level-item tag">39</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/07/"><span class="level-start"><span class="level-item">July 2019</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/06/"><span class="level-start"><span class="level-item">June 2019</span></span><span class="level-end"><span class="level-item tag">41</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/05/"><span class="level-start"><span class="level-item">May 2019</span></span><span class="level-end"><span class="level-item tag">48</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/04/"><span class="level-start"><span class="level-item">April 2019</span></span><span class="level-end"><span class="level-item tag">27</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/03/"><span class="level-start"><span class="level-item">March 2019</span></span><span class="level-end"><span class="level-item tag">24</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/02/"><span class="level-start"><span class="level-item">February 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/12/"><span class="level-start"><span class="level-item">December 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/05/"><span class="level-start"><span class="level-item">May 2018</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/04/"><span class="level-start"><span class="level-item">April 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/02/"><span class="level-start"><span class="level-item">February 2018</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/01/"><span class="level-start"><span class="level-item">January 2018</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/12/"><span class="level-start"><span class="level-item">December 2017</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/11/"><span class="level-start"><span class="level-item">November 2017</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/10/"><span class="level-start"><span class="level-item">October 2017</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/09/"><span class="level-start"><span class="level-item">September 2017</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/08/"><span class="level-start"><span class="level-item">August 2017</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/07/"><span class="level-start"><span class="level-item">July 2017</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/06/"><span class="level-start"><span class="level-item">June 2017</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/05/"><span class="level-start"><span class="level-item">May 2017</span></span><span class="level-end"><span class="level-item tag">35</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/04/"><span class="level-start"><span class="level-item">April 2017</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/algorithm/"><span class="tag">algorithm</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/android/"><span class="tag">android</span><span class="tag is-grey-lightest">34</span></a></div><div class="control"><a class="tags has-addons" href="/tags/apple-script/"><span class="tag">apple script</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/catalyst/"><span class="tag">catalyst</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ci/"><span class="tag">ci</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cloud/"><span class="tag">cloud</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cocoapods/"><span class="tag">cocoapods</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/combine/"><span class="tag">combine</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/core-data/"><span class="tag">core data</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/csharp/"><span class="tag">csharp</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/css/"><span class="tag">css</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/dart/"><span class="tag">dart</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/database/"><span class="tag">database</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/design/"><span class="tag">design</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/electron/"><span class="tag">electron</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/firebase/"><span class="tag">firebase</span><span class="tag is-grey-lightest">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/flutter/"><span class="tag">flutter</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/git/"><span class="tag">git</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/github/"><span class="tag">github</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/go/"><span class="tag">go</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/google/"><span class="tag">google</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/iOS/"><span class="tag">iOS</span><span class="tag is-grey-lightest">163</span></a></div><div class="control"><a class="tags has-addons" href="/tags/javascript/"><span class="tag">javascript</span><span class="tag is-grey-lightest">47</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kotlin/"><span class="tag">kotlin</span><span class="tag is-grey-lightest">26</span></a></div><div class="control"><a class="tags has-addons" href="/tags/layout/"><span class="tag">layout</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/life/"><span class="tag">life</span><span class="tag is-grey-lightest">11</span></a></div><div class="control"><a class="tags has-addons" href="/tags/links/"><span class="tag">links</span><span class="tag is-grey-lightest">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macOS/"><span class="tag">macOS</span><span class="tag is-grey-lightest">103</span></a></div><div class="control"><a class="tags has-addons" href="/tags/machine-learning/"><span class="tag">machine learning</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/maps/"><span class="tag">maps</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/networking/"><span class="tag">networking</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/node/"><span class="tag">node</span><span class="tag is-grey-lightest">11</span></a></div><div class="control"><a class="tags has-addons" href="/tags/objc/"><span class="tag">objc</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/react/"><span class="tag">react</span><span class="tag is-grey-lightest">21</span></a></div><div class="control"><a class="tags has-addons" href="/tags/react-native/"><span class="tag">react native</span><span class="tag is-grey-lightest">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/realm/"><span class="tag">realm</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rx/"><span class="tag">rx</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/script/"><span class="tag">script</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/spm/"><span class="tag">spm</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/swift/"><span class="tag">swift</span><span class="tag is-grey-lightest">288</span></a></div><div class="control"><a class="tags has-addons" href="/tags/swiftUI/"><span class="tag">swiftUI</span><span class="tag is-grey-lightest">61</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tech/"><span class="tag">tech</span><span class="tag is-grey-lightest">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/terminal/"><span class="tag">terminal</span><span class="tag is-grey-lightest">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/testing/"><span class="tag">testing</span><span class="tag is-grey-lightest">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tool/"><span class="tag">tool</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/unity/"><span class="tag">unity</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/voip/"><span class="tag">voip</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/watchOS/"><span class="tag">watchOS</span><span class="tag is-grey-lightest">11</span></a></div><div class="control"><a class="tags has-addons" href="/tags/web/"><span class="tag">web</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/work/"><span class="tag">work</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/wwdc/"><span class="tag">wwdc</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/xcode/"><span class="tag">xcode</span><span class="tag is-grey-lightest">23</span></a></div></div></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe to Updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=c2r59mmt2n5k0o5dt5vv3nq4u4&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="c2r59mmt2n5k0o5dt5vv3nq4u4" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button is-primary" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget"><div class="card-content"><div class="notification is-danger">You need to set <code>client_id</code> and <code>slot_id</code> to show this AD unit. Please set it in <code>_config.yml</code>.</div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/z.png" alt="onmyway133" height="28"></a><p class="size-small"><span>&copy; 2020 Khoa Pham</span>¬†¬†Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>¬†&amp;¬†<a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/onmyway133"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://onmyway133.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to Top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">√ó</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>