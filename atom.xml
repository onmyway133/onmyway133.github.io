<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>onmyway133</title>
  
  <subtitle>What you don&#39;t know is what you haven&#39;t learned</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://onmyway133.github.io/"/>
  <updated>2020-06-16T05:27:18.000Z</updated>
  <id>https://onmyway133.github.io/</id>
  
  <author>
    <name>Khoa Pham</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>How to sign in with apple for web with firebase</title>
    <link href="https://onmyway133.github.io/blog/How-to-sign-in-with-apple-for-web-with-firebase/"/>
    <id>https://onmyway133.github.io/blog/How-to-sign-in-with-apple-for-web-with-firebase/</id>
    <published>2020-06-16T05:27:12.000Z</published>
    <updated>2020-06-16T05:27:18.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/668">#668</a></strong></p><h3 id="Authenticate-Using-Apple-with-JavaScript"><a href="#Authenticate-Using-Apple-with-JavaScript" class="headerlink" title="Authenticate Using Apple with JavaScript"></a>Authenticate Using Apple with JavaScript</h3><p>Use Firebase JS SDK</p><ul><li><a href="https://firebase.google.com/docs/auth/web/apple">https://firebase.google.com/docs/auth/web/apple</a></li></ul><h3 id="Configure-Sign-in-with-Apple-for-the-web"><a href="#Configure-Sign-in-with-Apple-for-the-web" class="headerlink" title="Configure Sign in with Apple for the web"></a>Configure Sign in with Apple for the web</h3><ul><li><a href="https://help.apple.com/developer-account/#/dev1c0e25352">https://help.apple.com/developer-account/#/dev1c0e25352</a></li></ul><p>Go to <a href="https://developer.apple.com/account/resources/identifiers/list">Certificates, Identifiers &amp; Profiles -&gt; Identifier</a> create 2 ids: App ID and Service ID</p><p>For example: I have App ID com.onmyway133.myapp and Service ID com.onmyway133.myweb</p><img width="1218" alt="Screenshot 2020-06-16 at 09 20 34" src="https://user-images.githubusercontent.com/2284279/84743751-ab3a8500-afb2-11ea-90b6-e399c05c7741.png"><p>Remember that to view App ID or Service ID, there’s dropdown menu on the right</p><img width="296" alt="Screenshot 2020-06-16 at 09 21 20" src="https://user-images.githubusercontent.com/2284279/84743826-c2797280-afb2-11ea-820c-5b405a787eb3.png"><p> For App ID,  enable</p><ul><li>Associated Domains</li><li>Sign In with Apple: Enable it as Primary App ID</li></ul><p>For Service ID, use firebase callback url</p><ul><li><a href="https://myweb.firebaseapp.com/__/auth/handler">https://myweb.firebaseapp.com/__/auth/handler</a></li></ul><h3 id="Associate-domain"><a href="#Associate-domain" class="headerlink" title="Associate domain"></a>Associate domain</h3><p>Add <code>apple-app-site-association</code> in <code>public</code> folder</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;applinks&quot;: &#123;</span><br><span class="line">      &quot;details&quot;: [</span><br><span class="line">           &#123;</span><br><span class="line">             &quot;appIDs&quot;: [&quot;T78DK947F2.com.onmyway133.myapp&quot;],</span><br><span class="line">             &quot;components&quot;: [</span><br><span class="line">               &#123;</span><br><span class="line">                  &quot;#&quot;: &quot;no_universal_links&quot;,</span><br><span class="line">                  &quot;exclude&quot;: true,</span><br><span class="line">                  &quot;comment&quot;: &quot;Matches any URL whose fragment equals no_universal_links and instructs the system not to open it as a universal link&quot;</span><br><span class="line">               &#125;</span><br><span class="line">             ]</span><br><span class="line">           &#125;</span><br><span class="line">       ]</span><br><span class="line">   &#125;,</span><br><span class="line">   &quot;webcredentials&quot;: &#123;</span><br><span class="line">      &quot;apps&quot;: [ &quot;T78DK947F2.com.onmyway133.myweb&quot; ]</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Private-key"><a href="#Private-key" class="headerlink" title="Private key"></a>Private key</h2><p>Go to <a href="https://developer.apple.com/account/resources/authkeys/list">Keys</a> and create new auth key. Configure that key with the primary App ID above</p><img width="1261" alt="Screenshot 2020-06-16 at 09 24 05" src="https://user-images.githubusercontent.com/2284279/84744141-2308af80-afb3-11ea-98ce-8b32c1c300d1.png"><h2 id="Configure-in-Firebase"><a href="#Configure-in-Firebase" class="headerlink" title="Configure in Firebase"></a>Configure in Firebase</h2><p>Go to <a href="https://console.firebase.google.com/u/0/project/wwdc-together/authentication/providers">Sign in providers</a> and enable Apple sign in.</p><p>Fill in </p><ul><li>Service ID identifier (com.onmyway133.myweb)</li><li>OAuth code flow configuration: fill in your team id, key id and key secret content.</li></ul><img width="973" alt="Screenshot 2020-06-16 at 09 25 23" src="https://user-images.githubusercontent.com/2284279/84744287-50edf400-afb3-11ea-8802-a388b48b97ec.png">]]></content>
    
    <summary type="html">
    
      
      
        
        
          &lt;p&gt;&lt;strong&gt;Issue &lt;a href=&quot;https://github.com/onmyway133/blog/issues/668&quot;&gt;#668&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h3
        
      
    
    </summary>
    
    
    
      <category term="web" scheme="https://onmyway133.github.io/tags/web/"/>
    
      <category term="firebase" scheme="https://onmyway133.github.io/tags/firebase/"/>
    
  </entry>
  
  <entry>
    <title>How to use firebase cloud functions</title>
    <link href="https://onmyway133.github.io/blog/How-to-use-firebase-cloud-functions/"/>
    <id>https://onmyway133.github.io/blog/How-to-use-firebase-cloud-functions/</id>
    <published>2020-06-14T19:20:10.000Z</published>
    <updated>2020-06-14T19:39:27.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/667">#667</a></strong></p><h3 id="Use-node-10"><a href="#Use-node-10" class="headerlink" title="Use node 10"></a>Use node 10</h3><p>Edit package.json</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;engines&quot;: &#123;</span><br><span class="line">    &quot;node&quot;: &quot;10&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="Secret-key"><a href="#Secret-key" class="headerlink" title="Secret key"></a>Secret key</h3><p>Go to <code>settings/serviceaccounts/adminsdk</code>, download secret key in form of <code>json</code> and place it in <code>lib/config.json</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> serviceAccount = <span class="built_in">require</span>(<span class="string">'./config.json'</span>)</span><br><span class="line"></span><br><span class="line">admin.initializeApp(&#123;</span><br><span class="line">    credential: admin.credential.cert(serviceAccount),</span><br><span class="line">    databaseURL: <span class="string">"https://my-app-4b968.firebaseio.com"</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="Local-serve"><a href="#Local-serve" class="headerlink" title="Local serve"></a>Local serve</h3><p>This builds and spins up emulator to test</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run serve</span><br></pre></td></tr></table></figure><h3 id="CORS"><a href="#CORS" class="headerlink" title="CORS"></a>CORS</h3><ul><li><a href="https://stackoverflow.com/questions/42755131/enabling-cors-in-cloud-functions-for-firebase">https://stackoverflow.com/questions/42755131/enabling-cors-in-cloud-functions-for-firebase</a></li><li><a href="https://mhaligowski.github.io/blog/2017/03/10/cors-in-cloud-functions.html">https://mhaligowski.github.io/blog/2017/03/10/cors-in-cloud-functions.html</a></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response.set(&#39;Access-Control-Allow-Origin&#39;, &#39;*&#39;);</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">var cors &#x3D; require(&#39;cors&#39;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; my function</span><br><span class="line">var helloFn &#x3D; function helloFn(req, res) &#123;</span><br><span class="line">    res.status(200)</span><br><span class="line">        .send(&#39;Hello, Functions\n&#39;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; CORS and Cloud Functions export logic</span><br><span class="line">exports.hello &#x3D; function hello(req, res) &#123;</span><br><span class="line">    var corsFn &#x3D; cors();</span><br><span class="line">    corsFn(req, res, function() &#123;</span><br><span class="line">        helloFn(req, res);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        
        
          &lt;p&gt;&lt;strong&gt;Issue &lt;a href=&quot;https://github.com/onmyway133/blog/issues/667&quot;&gt;#667&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&quot;Use-node-10&quot;&gt;&lt;a href=&quot;#Use-node-10&quot;
        
      
    
    </summary>
    
    
    
      <category term="firebase" scheme="https://onmyway133.github.io/tags/firebase/"/>
    
  </entry>
  
  <entry>
    <title>How to deploy with create react app</title>
    <link href="https://onmyway133.github.io/blog/How-to-deploy-with-create-react-app/"/>
    <id>https://onmyway133.github.io/blog/How-to-deploy-with-create-react-app/</id>
    <published>2020-06-14T17:40:15.000Z</published>
    <updated>2020-06-14T17:48:16.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/666">#666</a></strong></p><h3 id="Direct-url"><a href="#Direct-url" class="headerlink" title="Direct url"></a>Direct url</h3><p><code>200.html</code></p><p><a href="https://stackoverflow.com/questions/44491184/react-router-does-not-work-in-production-and-surge-deployments">https://stackoverflow.com/questions/44491184/react-router-does-not-work-in-production-and-surge-deployments</a></p><p>Support for client-side routing:</p><p><a href="https://create-react-app.dev/docs/deployment/#netlify">https://create-react-app.dev/docs/deployment/#netlify</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;*  &#x2F;index.html  200</span><br></pre></td></tr></table></figure><h3 id="Serving-the-Same-Build-from-Different-Paths"><a href="#Serving-the-Same-Build-from-Different-Paths" class="headerlink" title="Serving the Same Build from Different Paths"></a>Serving the Same Build from Different Paths</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">"homepage": ".",</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        
        
          &lt;p&gt;&lt;strong&gt;Issue &lt;a href=&quot;https://github.com/onmyway133/blog/issues/666&quot;&gt;#666&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&quot;Direct-url&quot;&gt;&lt;a href=&quot;#Direct-url&quot;
        
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>How to go back to home in React</title>
    <link href="https://onmyway133.github.io/blog/How-to-go-back-to-home-in-React/"/>
    <id>https://onmyway133.github.io/blog/How-to-go-back-to-home-in-React/</id>
    <published>2020-06-13T19:26:44.000Z</published>
    <updated>2020-06-13T19:26:44.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/665">#665</a></strong></p><p>Usually in header we have logo that takes user back to the home page</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    BrowserRouter <span class="keyword">as</span> Router,</span><br><span class="line">    Switch,</span><br><span class="line">    Route,</span><br><span class="line">    Link</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></span><br><span class="line"></span><br><span class="line">&lt;Router&gt;</span><br><span class="line">    &lt;Switch&gt;</span><br><span class="line">        &lt;Route exact path=<span class="string">"/"</span>&gt;</span><br><span class="line">            &lt;Home /&gt;</span><br><span class="line">        &lt;<span class="regexp">/Route&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>Router&gt;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Header.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; useHistory &#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></span><br><span class="line"><span class="keyword">const</span> history = useHistory()</span><br><span class="line"></span><br><span class="line">&lt;a <span class="class"><span class="keyword">class</span></span>=<span class="string">"navbar-item"</span> onClick=&#123;() =&gt; &#123;</span><br><span class="line">    history.push(<span class="string">'/'</span>)</span><br><span class="line">&#125;&#125;&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        
        
          &lt;p&gt;&lt;strong&gt;Issue &lt;a href=&quot;https://github.com/onmyway133/blog/issues/665&quot;&gt;#665&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Usually in header we have logo that takes
        
      
    
    </summary>
    
    
    
      <category term="react" scheme="https://onmyway133.github.io/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>How to format date in certain timezone with momentjs</title>
    <link href="https://onmyway133.github.io/blog/How-to-format-date-in-certain-timezone-with-momentjs/"/>
    <id>https://onmyway133.github.io/blog/How-to-format-date-in-certain-timezone-with-momentjs/</id>
    <published>2020-06-13T18:53:41.000Z</published>
    <updated>2020-06-13T18:53:41.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/664">#664</a></strong></p><p>Use moment-timezone <a href="https://momentjs.com/timezone/docs/">https://momentjs.com/timezone/docs/</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install moment-timezone</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; public&#x2F;index.html</span><br><span class="line">&lt;script src&#x3D;&quot;moment.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;moment-timezone-with-data.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>Need to import from <code>moment-timezone</code>, not <code>moment</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> moment <span class="keyword">from</span> <span class="string">'moment-timezone'</span></span><br><span class="line"></span><br><span class="line">moment(startAt).tz(<span class="string">'America/Los_Angeles'</span>).format(<span class="string">'MMMM Do YYYY'</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        
        
          &lt;p&gt;&lt;strong&gt;Issue &lt;a href=&quot;https://github.com/onmyway133/blog/issues/664&quot;&gt;#664&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Use moment-timezone &lt;a
        
      
    
    </summary>
    
    
    
      <category term="javascript" scheme="https://onmyway133.github.io/tags/javascript/"/>
    
      <category term="react" scheme="https://onmyway133.github.io/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>How to style video js</title>
    <link href="https://onmyway133.github.io/blog/How-to-style-video-js/"/>
    <id>https://onmyway133.github.io/blog/How-to-style-video-js/</id>
    <published>2020-06-12T20:05:45.000Z</published>
    <updated>2020-06-12T20:05:45.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/663">#663</a></strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** @jsx jsx */</span></span><br><span class="line"><span class="keyword">import</span> &#123; css, jsx &#125; <span class="keyword">from</span> <span class="string">'@emotion/core'</span></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> videojs <span class="keyword">from</span> <span class="string">'video.js'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">VideoPlayer</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    componentDidMount() &#123;</span><br><span class="line">        <span class="comment">// instantiate Video.js</span></span><br><span class="line">        <span class="keyword">this</span>.player = videojs(<span class="keyword">this</span>.videoNode, <span class="keyword">this</span>.props, <span class="function"><span class="keyword">function</span> <span class="title">onPlayerReady</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'onPlayerReady'</span>, <span class="keyword">this</span>)</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// destroy player on unmount</span></span><br><span class="line">    componentWillUnmount() &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.player) &#123;</span><br><span class="line">            <span class="keyword">this</span>.player.dispose()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// wrap the player in a div with a `data-vjs-player` attribute</span></span><br><span class="line">    <span class="comment">// so videojs won't create additional wrapper in the DOM</span></span><br><span class="line">    <span class="comment">// see https://github.com/videojs/video.js/pull/3856</span></span><br><span class="line">    render() &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;div data-vjs-player css=&#123;css`<span class="css"></span></span><br><span class="line"><span class="css">                    </span></span><br><span class="line"><span class="css">                `</span>&#125;&gt;</span><br><span class="line">                    &lt;video </span><br><span class="line">                        ref=&#123;node =&gt; <span class="keyword">this</span>.videoNode = node&#125; </span><br><span class="line">                        className=<span class="string">"video-js vjs-big-play-centered"</span> </span><br><span class="line">                        css=&#123;css`<span class="css"></span></span><br><span class="line"><span class="css">                        <span class="selector-tag">width</span>: <span class="selector-tag">auto</span>;</span></span><br><span class="line"><span class="css">                        <span class="selector-tag">height</span>: 400<span class="selector-tag">px</span>;</span></span><br><span class="line"><span class="css">                    `</span>&#125;&gt;</span><br><span class="line"></span><br><span class="line">                    &lt;<span class="regexp">/video&gt;</span></span><br><span class="line"><span class="regexp">                &lt;/</span>div&gt;</span><br><span class="line">            &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        )</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        
        
          &lt;p&gt;&lt;strong&gt;Issue &lt;a href=&quot;https://github.com/onmyway133/blog/issues/663&quot;&gt;#663&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td
        
      
    
    </summary>
    
    
    
      <category term="react" scheme="https://onmyway133.github.io/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>How to use setState in React</title>
    <link href="https://onmyway133.github.io/blog/How-to-use-setState-in-React/"/>
    <id>https://onmyway133.github.io/blog/How-to-use-setState-in-React/</id>
    <published>2020-06-12T19:23:14.000Z</published>
    <updated>2020-06-12T19:23:42.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/662">#662</a></strong></p><p>Use spread operator</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component, useState, useEffect &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [state, setState] = useState(&#123;</span><br><span class="line">        message: <span class="string">''</span>,</span><br><span class="line">        chats: [],</span><br><span class="line">        sending: <span class="literal">false</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">setState(<span class="function"><span class="params">prevState</span> =&gt;</span> (&#123; </span><br><span class="line">    ...prevState,</span><br><span class="line">    message: <span class="string">''</span>,</span><br><span class="line">    sending: <span class="literal">false</span></span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        
        
          &lt;p&gt;&lt;strong&gt;Issue &lt;a href=&quot;https://github.com/onmyway133/blog/issues/662&quot;&gt;#662&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Use spread operator&lt;/p&gt;
&lt;figure
        
      
    
    </summary>
    
    
    
      <category term="react" scheme="https://onmyway133.github.io/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>How to handle evens in put with React</title>
    <link href="https://onmyway133.github.io/blog/How-to-handle-evens-in-put-with-React/"/>
    <id>https://onmyway133.github.io/blog/How-to-handle-evens-in-put-with-React/</id>
    <published>2020-06-12T19:17:05.000Z</published>
    <updated>2020-06-12T19:17:05.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/661">#661</a></strong></p><p>Use Bulma css</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;input</span><br><span class="line">    <span class="class"><span class="keyword">class</span></span>=<span class="string">"input is-rounded"</span></span><br><span class="line">    type=<span class="string">"text"</span></span><br><span class="line">    placeholder=<span class="string">"Say something"</span></span><br><span class="line">    value=&#123;value&#125;</span><br><span class="line">    onChange=&#123;(e) =&gt; &#123; onValueChange(e.target.value) &#125;&#125;</span><br><span class="line">    onKeyDown=&#123;(e) =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> (e.key === <span class="string">'Enter'</span>) &#123;</span><br><span class="line">            onSend(e)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;&#125;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        
        
          &lt;p&gt;&lt;strong&gt;Issue &lt;a href=&quot;https://github.com/onmyway133/blog/issues/661&quot;&gt;#661&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Use Bulma css&lt;/p&gt;
&lt;figure
        
      
    
    </summary>
    
    
    
      <category term="javascript" scheme="https://onmyway133.github.io/tags/javascript/"/>
    
      <category term="react" scheme="https://onmyway133.github.io/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>How to set text color for UIDatePicker</title>
    <link href="https://onmyway133.github.io/blog/How-to-set-text-color-for-UIDatePicker/"/>
    <id>https://onmyway133.github.io/blog/How-to-set-text-color-for-UIDatePicker/</id>
    <published>2020-06-10T17:14:17.000Z</published>
    <updated>2020-06-10T17:15:21.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/660">#660</a></strong></p><p>Apply <code>tintColor</code> does not seem to have effect.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">datePicker.setValue(<span class="type">UIColor</span>.label, forKeyPath: <span class="string">"textColor"</span>)</span><br><span class="line">datePicker.setValue(<span class="literal">false</span>, forKey: <span class="string">"highlightsToday"</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        
        
          &lt;p&gt;&lt;strong&gt;Issue &lt;a href=&quot;https://github.com/onmyway133/blog/issues/660&quot;&gt;#660&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Apply &lt;code&gt;tintColor&lt;/code&gt; does not
        
      
    
    </summary>
    
    
    
      <category term="swift" scheme="https://onmyway133.github.io/tags/swift/"/>
    
      <category term="iOS" scheme="https://onmyway133.github.io/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>How to auto scroll to top in react router 5</title>
    <link href="https://onmyway133.github.io/blog/How-to-auto-scroll-to-top-in-react-router-5/"/>
    <id>https://onmyway133.github.io/blog/How-to-auto-scroll-to-top-in-react-router-5/</id>
    <published>2020-06-04T03:58:39.000Z</published>
    <updated>2020-06-04T03:58:47.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/659">#659</a></strong></p><p>Use <code>useLocation</code> <a href="https://reacttraining.com/react-router/web/guides/scroll-restoration">https://reacttraining.com/react-router/web/guides/scroll-restoration</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; useEffect &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    BrowserRouter <span class="keyword">as</span> Router,</span><br><span class="line">    Switch,</span><br><span class="line">    Route,</span><br><span class="line">    Link,</span><br><span class="line">    useLocation,</span><br><span class="line">    withRouter</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_ScrollToTop</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; pathname &#125; = useLocation();</span><br><span class="line"></span><br><span class="line">    useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">window</span>.scrollTo(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    &#125;, [pathname]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> props.children</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ScrollToTop = withRouter(_ScrollToTop)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;Router&gt;</span><br><span class="line">                &lt;ScrollToTop&gt;</span><br><span class="line">                    &lt;Header /&gt;</span><br><span class="line">                     &lt;Content /&gt;</span><br><span class="line">                    &lt;Footer /&gt;</span><br><span class="line">                &lt;<span class="regexp">/ScrollToTop&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>Router&gt;</span><br><span class="line">        &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        
        
          &lt;p&gt;&lt;strong&gt;Issue &lt;a href=&quot;https://github.com/onmyway133/blog/issues/659&quot;&gt;#659&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Use &lt;code&gt;useLocation&lt;/code&gt; &lt;a
        
      
    
    </summary>
    
    
    
      <category term="javascript" scheme="https://onmyway133.github.io/tags/javascript/"/>
    
      <category term="react" scheme="https://onmyway133.github.io/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>How to use dynamic route in react router 5</title>
    <link href="https://onmyway133.github.io/blog/How-to-use-dynamic-route-in-react-router-5/"/>
    <id>https://onmyway133.github.io/blog/How-to-use-dynamic-route-in-react-router-5/</id>
    <published>2020-06-03T02:41:26.000Z</published>
    <updated>2020-06-03T03:07:00.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/658">#658</a></strong></p><p>Declare routes, use <code>exact</code> to match exact path as finding route is from top to bottom. For dynamic route, I find that we need to use render and pass the props manually.</p><p>Declare <code>Router</code> as the rooter with Header, Content and Footer. Inside Content there is the <code>Switch</code>, so header and footer stay the same across pages</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    BrowserRouter <span class="keyword">as</span> Router,</span><br><span class="line">    Switch,</span><br><span class="line">    Route,</span><br><span class="line">    Link</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Content</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">            &lt;Switch&gt;</span><br><span class="line">                &lt;Route exact path=<span class="string">"/about"</span>&gt;</span><br><span class="line">                    &lt;About /&gt;</span><br><span class="line">                &lt;<span class="regexp">/Route&gt;</span></span><br><span class="line"><span class="regexp">                &lt;Route exact path="/</span><span class="string">"&gt;</span></span><br><span class="line"><span class="string">                    &lt;Home /&gt;</span></span><br><span class="line"><span class="string">                &lt;/Route&gt;</span></span><br><span class="line"><span class="string">                &lt;Route path='/book/:id' render=&#123;(props) =&gt; &#123;</span></span><br><span class="line"><span class="string">                    return ( &lt;BookDetail &#123;...props &#125; /&gt; )</span></span><br><span class="line"><span class="string">                &#125;&#125; /&gt;</span></span><br><span class="line"><span class="string">                &lt;Route&gt;</span></span><br><span class="line"><span class="string">                    &lt;NotFound /&gt;</span></span><br><span class="line"><span class="string">                &lt;/Route&gt;</span></span><br><span class="line"><span class="string">            &lt;/Switch&gt;</span></span><br><span class="line"><span class="string">    )</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">function App() &#123;</span></span><br><span class="line"><span class="string">    return (</span></span><br><span class="line"><span class="string">        &lt;div&gt;</span></span><br><span class="line"><span class="string">            &lt;Router&gt;</span></span><br><span class="line"><span class="string">                &lt;Header /&gt;</span></span><br><span class="line"><span class="string">                &lt;Content /&gt;</span></span><br><span class="line"><span class="string">                &lt;Footer /&gt;</span></span><br><span class="line"><span class="string">            &lt;/Router&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">    )</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure><p>To trigger route request, use <code>useHistory</code> hook. Note that we need to declare variable, and not use <code>useHistory().push</code> directly</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useHistory &#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> history = useHistory()</span><br><span class="line"></span><br><span class="line">&lt;a onClick=&#123;() =&gt; &#123;</span><br><span class="line">    history.push(<span class="string">`/book/<span class="subst">$&#123;uuid&#125;</span>`</span>)</span><br><span class="line">&#125;&#125; &gt;</span><br></pre></td></tr></table></figure><p>To get parameters, use <code>match</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">BookDetail</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> [ state, setState ] = useState(&#123;</span><br><span class="line">        book: <span class="literal">null</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> &#123; match &#125; = props</span><br><span class="line">   <span class="comment">// match.params.id</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        
        
          &lt;p&gt;&lt;strong&gt;Issue &lt;a href=&quot;https://github.com/onmyway133/blog/issues/658&quot;&gt;#658&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Declare routes, use &lt;code&gt;exact&lt;/code&gt; to
        
      
    
    </summary>
    
    
    
      <category term="javascript" scheme="https://onmyway133.github.io/tags/javascript/"/>
    
      <category term="react" scheme="https://onmyway133.github.io/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>How to use folder as local npm package</title>
    <link href="https://onmyway133.github.io/blog/How-to-use-folder-as-local-npm-package/"/>
    <id>https://onmyway133.github.io/blog/How-to-use-folder-as-local-npm-package/</id>
    <published>2020-06-01T03:00:36.000Z</published>
    <updated>2020-06-01T03:00:36.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/657">#657</a></strong></p><p>Add library folder <code>src/library</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">src</span><br><span class="line">    library</span><br><span class="line">        res.js</span><br><span class="line">    screens</span><br><span class="line">        Home</span><br><span class="line">            index.js</span><br><span class="line">package.json</span><br></pre></td></tr></table></figure><p>Declare package.json in <code>library</code> folder</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"library"</span>,</span><br><span class="line">    <span class="string">"version"</span>: <span class="string">"0.0.1"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Declare library as dependency in root package.json</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"dependencies": &#123;</span><br><span class="line">    "library": "file:src/library"</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>Now import like normal, for example in <code>src/screens/Home/index.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> res <span class="keyword">from</span> <span class="string">'library/res'</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        
        
          &lt;p&gt;&lt;strong&gt;Issue &lt;a href=&quot;https://github.com/onmyway133/blog/issues/657&quot;&gt;#657&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Add library folder
        
      
    
    </summary>
    
    
    
      <category term="javascript" scheme="https://onmyway133.github.io/tags/javascript/"/>
    
      <category term="react" scheme="https://onmyway133.github.io/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>How to make switch statement in SwiftUI</title>
    <link href="https://onmyway133.github.io/blog/How-to-make-switch-statement-in-SwiftUI/"/>
    <id>https://onmyway133.github.io/blog/How-to-make-switch-statement-in-SwiftUI/</id>
    <published>2020-05-22T18:41:10.000Z</published>
    <updated>2020-05-22T18:42:14.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/656">#656</a></strong></p><p>Lately I’ve been challenging myself to declare switch statement in SwiftUI, or in a more generalized way, execute any anonymous function that can return a View</p><h2 id="Use-Switch-and-Case-views"><a href="#Use-Switch-and-Case-views" class="headerlink" title="Use Switch and Case views"></a>Use Switch and Case views</h2><p>Note that this approach does not work yet, as <code>TupeView</code> should support variadic number of contents, and also T.RawValue needs to conform to Equatable in order to check the cases.</p><p>Also in Switch statement, Content can’t be inferred</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Case</span>&lt;<span class="title">T</span>: <span class="title">RawRepresentable</span>, <span class="title">Content</span>: <span class="title">View</span>&gt;: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> value: <span class="type">T</span></span><br><span class="line">    <span class="keyword">let</span> content: <span class="type">Content</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(<span class="number">_</span> value: <span class="type">T</span>, @<span class="type">ViewBuilder</span> content: () -&gt; <span class="type">Content</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.value = value</span><br><span class="line">        <span class="keyword">self</span>.content = content()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        content</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Switch</span>&lt;<span class="title">T</span>: <span class="title">RawRepresentable</span>, <span class="title">Content</span>: <span class="title">View</span>&gt;: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> value: <span class="type">T</span></span><br><span class="line">    <span class="keyword">let</span> cases: <span class="type">TupleView</span>&lt;<span class="type">Case</span>&lt;<span class="type">T</span>, <span class="type">Content</span>&gt;&gt;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(<span class="number">_</span> value: <span class="type">T</span>, @<span class="type">ViewBuilder</span> cases: () -&gt; <span class="type">TupleView</span>&lt;<span class="type">Case</span>&lt;<span class="type">T</span>, <span class="type">Content</span>&gt;&gt;) &#123;</span><br><span class="line">        <span class="keyword">self</span>.value = value</span><br><span class="line">        <span class="keyword">self</span>.cases = cases()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        makeBody()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">makeBody</span><span class="params">()</span></span> -&gt; some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="comment">// <span class="doctag">TODO:</span> Logic here</span></span><br><span class="line">        cases</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">UseSwitchStatement</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> animal: <span class="type">Animal</span> = .cat</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span> &#123;</span><br><span class="line">            <span class="type">Switch</span>(animal) &#123;</span><br><span class="line">                <span class="type">Case</span>(<span class="type">Animal</span>.cat) &#123;</span><br><span class="line">                    <span class="type">Text</span>(<span class="string">"cat"</span>)</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="type">Case</span>(<span class="type">Animal</span>.dog) &#123;</span><br><span class="line">                    <span class="type">Text</span>(<span class="string">"dog"</span>)</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="type">Case</span>(<span class="type">Animal</span>.mouse) &#123;</span><br><span class="line">                    <span class="type">Text</span>(<span class="string">"mouse"</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Use-MakeView"><a href="#Use-MakeView" class="headerlink" title="Use MakeView"></a>Use MakeView</h2><p>Another solution is to use a <code>MakeView</code> view, this is more generic as it can execute any functions</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Animal</span>: <span class="title">String</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> cat</span><br><span class="line">    <span class="keyword">case</span> dog</span><br><span class="line">    <span class="keyword">case</span> mouse</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">MakeView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> make: () -&gt; <span class="type">AnyView</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        make()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">UseMakeView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> animal: <span class="type">Animal</span> = .cat</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">MakeView</span> &#123;</span><br><span class="line">            <span class="keyword">switch</span> <span class="keyword">self</span>.animal &#123;</span><br><span class="line">            <span class="keyword">case</span> .cat:</span><br><span class="line">                <span class="keyword">return</span> <span class="type">Text</span>(<span class="string">"cat"</span>).erase()</span><br><span class="line">            <span class="keyword">case</span> .dog:</span><br><span class="line">                <span class="keyword">return</span> <span class="type">Text</span>(<span class="string">"dog"</span>).erase()</span><br><span class="line">            <span class="keyword">case</span> .mouse:</span><br><span class="line">                <span class="keyword">return</span> <span class="type">Text</span>(<span class="string">"mouse"</span>).erase()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        
        
          &lt;p&gt;&lt;strong&gt;Issue &lt;a href=&quot;https://github.com/onmyway133/blog/issues/656&quot;&gt;#656&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Lately I’ve been challenging myself to
        
      
    
    </summary>
    
    
    
      <category term="swift" scheme="https://onmyway133.github.io/tags/swift/"/>
    
      <category term="swiftUI" scheme="https://onmyway133.github.io/tags/swiftUI/"/>
    
  </entry>
  
  <entry>
    <title>How to update multiple state properties with React hooks</title>
    <link href="https://onmyway133.github.io/blog/How-to-update-multiple-state-properties-with-React-hooks/"/>
    <id>https://onmyway133.github.io/blog/How-to-update-multiple-state-properties-with-React-hooks/</id>
    <published>2020-05-08T20:19:31.000Z</published>
    <updated>2020-05-08T20:19:31.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/655">#655</a></strong></p><p>Declare <code>state</code> and <code>setState</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Showcase</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> factory = props.factory</span><br><span class="line">    <span class="keyword">const</span> [state, setState] = useState(</span><br><span class="line">        &#123;</span><br><span class="line">            factory,</span><br><span class="line">            selectedFilter: &#123; <span class="attr">name</span>: <span class="string">''</span> &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> onFilterClick = <span class="function">(<span class="params">filter</span>) =&gt;</span> &#123;</span><br><span class="line">        setState(&#123;</span><br><span class="line">            selectedFilter: filter,</span><br><span class="line">            factory: factory.filter(<span class="function">(<span class="params">app</span>) =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> app.showcase.platforms.includes(filter.name)</span><br><span class="line">            &#125;) </span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> cards = state.factory.map(<span class="function">(<span class="params">app, index</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;Card app=&#123;app&#125; key=&#123;app.slug&#125; /&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;FilterBar onClick=&#123;onFilterClick&#125; /&gt;</span><br><span class="line">            &lt;div css=&#123;css`<span class="css"></span></span><br><span class="line"><span class="css">                <span class="selector-tag">display</span>: <span class="selector-tag">flex</span>;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">flex-direction</span>: <span class="selector-tag">row</span>;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">flex-wrap</span>: <span class="selector-tag">wrap</span>;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">justify-content</span>: <span class="selector-tag">flex-start</span>;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">margin</span>: 0 <span class="selector-tag">auto</span>;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">padding</span>: 0 8<span class="selector-tag">vw</span>;</span></span><br><span class="line"><span class="css">            `</span>&#125;&gt;</span><br><span class="line">                &#123;cards&#125;</span><br><span class="line">            &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        
        
          &lt;p&gt;&lt;strong&gt;Issue &lt;a href=&quot;https://github.com/onmyway133/blog/issues/655&quot;&gt;#655&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Declare &lt;code&gt;state&lt;/code&gt; and
        
      
    
    </summary>
    
    
    
      <category term="react" scheme="https://onmyway133.github.io/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>How to make white label React app</title>
    <link href="https://onmyway133.github.io/blog/How-to-make-white-label-React-app/"/>
    <id>https://onmyway133.github.io/blog/How-to-make-white-label-React-app/</id>
    <published>2020-05-07T03:58:48.000Z</published>
    <updated>2020-05-07T03:59:31.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/654">#654</a></strong></p><p>Use <code>shelljs</code> to execute shell commands, and <code>fs</code> to read and write. In <code>public/index.html</code> specify some placeholder and we will replace those in our script</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"><span class="keyword">const</span> shell = <span class="built_in">require</span>(<span class="string">'shelljs'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> indexHtml = fs.readFileSync(publicIndexHtmlPath, <span class="string">'utf8'</span>)</span><br><span class="line">indexHtml = indexHtml</span><br><span class="line">    .replace(<span class="string">'CONSTANT_HTML_TITLE'</span>, <span class="string">`<span class="subst">$&#123;app.name&#125;</span> - <span class="subst">$&#123;app.headline.title&#125;</span>`</span>)</span><br><span class="line">    .replace(<span class="string">'CONSTANT_HTML_META_DESCRIPTION'</span>, app.headline.text)</span><br><span class="line"></span><br><span class="line">fs.writeFileSync(publicIndexHtmlPath, indexHtml)</span><br><span class="line"></span><br><span class="line"><span class="comment">// build</span></span><br><span class="line">shell.cd(<span class="string">'projects/my_react_app'</span>)</span><br><span class="line">shell.exec(<span class="string">'npm run build'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// copy</span></span><br><span class="line">shell.exec(<span class="string">`cp -a projects/my_react_app web_server/public`</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        
        
          &lt;p&gt;&lt;strong&gt;Issue &lt;a href=&quot;https://github.com/onmyway133/blog/issues/654&quot;&gt;#654&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Use &lt;code&gt;shelljs&lt;/code&gt; to execute shell
        
      
    
    </summary>
    
    
    
      <category term="react" scheme="https://onmyway133.github.io/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>How to make white label React app for landing pages</title>
    <link href="https://onmyway133.github.io/blog/How-to-make-white-label-React-app-for-landing-pages/"/>
    <id>https://onmyway133.github.io/blog/How-to-make-white-label-React-app-for-landing-pages/</id>
    <published>2020-05-07T03:58:48.000Z</published>
    <updated>2020-05-14T02:25:39.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/654">#654</a></strong></p><p>A good landing page is one of the most crucial part of a successful launch. Recently I started creating landing pages for my <a href="https://onmyway133.com/apps/">apps</a>, I was lazy that I ended creating a white label React app as a landing template and then write a script to build multiple similar pages.</p><p>Here are a few examples, at first the pages share same look and feel, but we can add more configuration parameters later on. The cool thing with this approach is fixing bugs and adding features become easier, as they will all be deployed with the generator script.</p><p>Here are how it looks in my apps <a href="https://onmyway133.com/pastepal/">PastePal</a> and <a href="https://onmyway133.com/pushhero/">PushHero</a>, look at how the footer parts are so consistent.</p><img width="1433" alt="Screenshot 2020-05-14 at 05 47 28" src="https://user-images.githubusercontent.com/2284279/81890497-66cc5b80-95a6-11ea-88bb-43f99dcb6ad6.png"><img width="1230" alt="Screenshot 2020-05-14 at 05 48 01" src="https://user-images.githubusercontent.com/2284279/81890540-7c418580-95a6-11ea-95ae-8b095440d26f.png"><img width="1194" alt="Screenshot 2020-05-14 at 05 47 45" src="https://user-images.githubusercontent.com/2284279/81890555-8499c080-95a6-11ea-9028-c2bd09f66b0a.png"><h2 id="Create-a-landing-page-in-pure-html-and-javascript"><a href="#Create-a-landing-page-in-pure-html-and-javascript" class="headerlink" title="Create a landing page in pure html and javascript"></a>Create a landing page in pure html and javascript</h2><p>The first version that I built is with pure html and javascript. It has a lot of boilerplate and I need to deal with Webpack eventually to obfuscate my code.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> cards = <span class="built_in">Array</span>.from(apps).map(<span class="function">(<span class="params">app</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> a = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>)</span><br><span class="line">    container.appendChild(a)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> card = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>)</span><br><span class="line">    card.className = <span class="string">'card'</span></span><br><span class="line">    a.appendChild(card)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// top</span></span><br><span class="line">    <span class="keyword">const</span> imageContainer = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>)</span><br><span class="line">    imageContainer.className = <span class="string">'image-container'</span></span><br><span class="line">    card.appendChild(imageContainer)</span><br><span class="line">    <span class="keyword">if</span> (app.background !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">        imageContainer.style.backgroundColor = app.background</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        imageContainer.style.backgroundColor = <span class="string">'rgba(200, 200, 200, 1.0)'</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> image = <span class="built_in">document</span>.createElement(<span class="string">'img'</span>)</span><br><span class="line">    image.src = <span class="string">`../<span class="subst">$&#123;app.slug&#125;</span>/icon.png`</span></span><br><span class="line">    imageContainer.appendChild(image)</span><br></pre></td></tr></table></figure><p>Since they are in pure html and javascript, everyone can just open browser and view source code, which is not ideal, so I need to fiddle with Webpack and other uglify and minimize tools to obfuscate the code, like <a href="https://onmyway133.com/blog/how-to-use-webpack-to-bundle-html-css-js/">How to use webpack to bundle html css js</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">npm init</span><br><span class="line">npm install webpack webpack-cli --save-dev</span><br><span class="line">npm install babel-minify-webpack-plugin --save-dev</span><br><span class="line">npm install html-webpack-plugin --save-dev</span><br><span class="line"></span><br><span class="line">const MinifyPlugin &#x3D; require(&#39;babel-minify-webpack-plugin&#39;);</span><br><span class="line">const HtmlWebpackPlugin &#x3D; require(&#39;html-webpack-plugin&#39;)</span><br><span class="line"></span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">    entry: &quot;.&#x2F;index.js&quot;,</span><br><span class="line">    mode: &#39;production&#39;,</span><br><span class="line">    output: &#123;</span><br><span class="line">        filename: &quot;.&#x2F;index.js&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [</span><br><span class="line">        new MinifyPlugin(),</span><br><span class="line">        new HtmlWebpackPlugin(&#123;</span><br><span class="line">            template: &#39;index.html&#39;,</span><br><span class="line">            filename: &#39;index.html&#39;,</span><br><span class="line">            minify: &#123;</span><br><span class="line">                collapseWhitespace: true</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>And with external css sheets, finding and renaming class list names take some time.</p><h2 id="Create-a-landing-page-in-React"><a href="#Create-a-landing-page-in-React" class="headerlink" title="Create a landing page in React"></a>Create a landing page in React</h2><p>I use <a href="https://create-react-app.dev/">create-react-app</a> to generate my React app as it sets up JSX, Babel, Webpack, hot reloading and development server for me.</p><h3 id="Inline-css"><a href="#Inline-css" class="headerlink" title="Inline css"></a>Inline css</h3><p>I like js, css and html be part of the same component file, so I prefer inline css. I tried <a href="https://styled-components.com/">styled-components</a> before but then I found <a href="https://emotion.sh/docs/introduction">emotion</a> to be much easier to use and close to css. I also don’t like declaring unnecessary local variables style in styled-components.</p><p>Here is a good comparison between the 2 <a href="https://github.com/jsjoeio/styled-components-vs-emotion">styled-components-vs-emotion</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// styled-components</span></span><br><span class="line"><span class="comment">// CSS syntax in tagged template literal</span></span><br><span class="line"><span class="keyword">const</span> Title = styled.h1<span class="string">`</span></span><br><span class="line"><span class="string">  font-size: 1.5em;</span></span><br><span class="line"><span class="string">  text-align: center;</span></span><br><span class="line"><span class="string">  color: palevioletred;</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line">render(<span class="xml"><span class="tag">&lt;<span class="name">Title</span>&gt;</span>Hiya!<span class="tag">&lt;/<span class="name">Title</span>&gt;</span></span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Object syntax</span></span><br><span class="line"><span class="keyword">const</span> button = styled.button(&#123;</span><br><span class="line">  fontSize: <span class="string">'1.5em'</span>,</span><br><span class="line">  textAlign: <span class="string">'center'</span>,</span><br><span class="line">  color: <span class="string">'palevioletred'</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// emotion</span></span><br><span class="line"><span class="comment">// CSS syntax in tagged template literal</span></span><br><span class="line">render(</span><br><span class="line">  &lt;h1</span><br><span class="line">    className=&#123;css`<span class="css"></span></span><br><span class="line"><span class="css">      <span class="selector-tag">font-size</span>: 1<span class="selector-class">.5em</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">text-align</span>: <span class="selector-tag">center</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">color</span>: <span class="selector-tag">palevioletred</span>;</span></span><br><span class="line"><span class="css">    `</span>&#125;</span><br><span class="line">  &gt;</span><br><span class="line">    Hiya!</span><br><span class="line">  &lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">)</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ Object syntax</span></span><br><span class="line"><span class="regexp">const titleStyles = css(&#123;</span></span><br><span class="line"><span class="regexp">  fontSize: '1.5em',</span></span><br><span class="line"><span class="regexp">  textAlign: 'center',</span></span><br><span class="line"><span class="regexp">  color: 'palevioletred'</span></span><br><span class="line"><span class="regexp">&#125;)</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">render(&lt;h1 className=&#123;titleStyles&#125;&gt;Hiya!&lt;/</span>h1&gt;)</span><br></pre></td></tr></table></figure><h3 id="Use-emotion-for-inline-css"><a href="#Use-emotion-for-inline-css" class="headerlink" title="Use emotion for inline css"></a>Use emotion for inline css</h3><p>I detail here <a href="https://onmyway133.com/blog/how-to-use-emotion-for-inline-css-in-react/">How to use emotion for inline css in React</a></p><p>Emotion has core and styled styles. I usually use the <code>css</code> inline syntax, so I can just install the core</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i @emotion/core</span><br></pre></td></tr></table></figure><p>Note that we have to declare jsx directive at the top of every file.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// this comment tells babel to convert jsx to calls to a function called jsx instead of React.createElement</span></span><br><span class="line"><span class="comment">/** @jsx jsx */</span></span><br><span class="line"><span class="keyword">import</span> &#123; css, jsx &#125; <span class="keyword">from</span> <span class="string">'@emotion/core'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> color = <span class="string">'white'</span></span><br><span class="line"></span><br><span class="line">render(</span><br><span class="line">  &lt;div</span><br><span class="line">    css=&#123;css`<span class="css"></span></span><br><span class="line"><span class="css">      <span class="selector-tag">padding</span>: 32<span class="selector-tag">px</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">background-color</span>: <span class="selector-tag">hotpink</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">font-size</span>: 24<span class="selector-tag">px</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">border-radius</span>: 4<span class="selector-tag">px</span>;</span></span><br><span class="line"><span class="css">      &amp;<span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">color</span>: </span><span class="subst">$&#123;color&#125;</span><span class="css">;</span></span><br><span class="line"><span class="css">      &#125;</span></span><br><span class="line"><span class="css">    `</span>&#125;</span><br><span class="line">  &gt;</span><br><span class="line">    Hover to change color.</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">)</span></span><br></pre></td></tr></table></figure><p>One cool thing with inline css is they are just javascript code so it’s pretty easy to apply logic code, like in <a href="https://onmyway133.com/blog/how-to-conditionally-apply-css-in-emotion-js/">How to conditionally apply css in emotion js</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> shadowCss = feature.shadow ? css`<span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-tag">border-radius</span>: 5<span class="selector-tag">px</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">box-shadow</span>: 0 4<span class="selector-tag">px</span> 8<span class="selector-tag">px</span> 0 <span class="selector-tag">rgba</span>(0, 0, 0, 0<span class="selector-class">.2</span>), 0 6<span class="selector-tag">px</span> 20<span class="selector-tag">px</span> 0 <span class="selector-tag">rgba</span>(0, 0, 0, 0<span class="selector-class">.19</span>);</span></span><br><span class="line"><span class="css">    `</span> : css`<span class="css">`</span></span><br></pre></td></tr></table></figure><h3 id="Components-based"><a href="#Components-based" class="headerlink" title="Components based"></a>Components based</h3><p>When a component gets too big, I extract it to small components, in the end I have a bunch of them</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Footer <span class="keyword">from</span> <span class="string">'./components/Footer'</span></span><br><span class="line"><span class="keyword">import</span> Download <span class="keyword">from</span> <span class="string">'./components/Download'</span></span><br><span class="line"><span class="keyword">import</span> ProductHunt <span class="keyword">from</span> <span class="string">'./components/ProductHunt'</span></span><br><span class="line"><span class="keyword">import</span> Header <span class="keyword">from</span> <span class="string">'./components/Header'</span></span><br><span class="line"><span class="keyword">import</span> Headline <span class="keyword">from</span> <span class="string">'./components/Headline'</span></span><br><span class="line"><span class="keyword">import</span> Features <span class="keyword">from</span> <span class="string">'./components/Features</span></span><br></pre></td></tr></table></figure><p>and I stack them vertically, using flexbox and css grid</p><h3 id="Responsiveness-with-flexbox-and-css-grid"><a href="#Responsiveness-with-flexbox-and-css-grid" class="headerlink" title="Responsiveness with flexbox and css grid"></a>Responsiveness with flexbox and css grid</h3><p>I used flexbox mostly at first, but then I gradually convert some of them to css grid when I see fit.  To stack vertically with flexbox, I use <code>flex-direction</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">display</span>: <span class="selector-tag">flex</span>;</span><br><span class="line"><span class="selector-tag">flex-direction</span>: <span class="selector-tag">column</span></span><br></pre></td></tr></table></figure><p>where as in css grid items are stacked vertically by default, if we want multiple columns, specify <code>grid-template-columns</code> </p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">display</span>: <span class="selector-tag">grid</span>;</span><br><span class="line"><span class="selector-tag">grid-template-columns</span>: 1<span class="selector-tag">fr</span> 1<span class="selector-tag">fr</span>;</span><br></pre></td></tr></table></figure><p>I use <code>flex-wrap: wrap</code> in some places to wrap content, but in some places I see specifying media query and changing columns in css grid is more easier and predictable</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">display</span>: <span class="selector-tag">grid</span>;</span><br><span class="line"><span class="selector-tag">grid-template-columns</span>: 1<span class="selector-tag">fr</span> 1<span class="selector-tag">fr</span>;</span><br><span class="line"><span class="selector-tag">grid-gap</span>: 8<span class="selector-tag">vw</span>;</span><br><span class="line"><span class="selector-tag">align-items</span>: <span class="selector-tag">center</span>;</span><br><span class="line"></span><br><span class="line">@<span class="keyword">media</span> (max-width: <span class="number">500px</span>) &#123;</span><br><span class="line">    <span class="selector-tag">grid-template-columns</span>: 1<span class="selector-tag">fr</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Audit-with-Lighthouse"><a href="#Audit-with-Lighthouse" class="headerlink" title="Audit with Lighthouse"></a>Audit with Lighthouse</h3><p><a href="https://developers.google.com/web/tools/lighthouse">Google Lighthouse</a> is the most popular tool to audit website for performance and SEO. I use it to reduce image size, add correct html attributes and make it more SEO friendly.</p><h3 id="Prepare-a-list-of-app"><a href="#Prepare-a-list-of-app" class="headerlink" title="Prepare a list of app"></a>Prepare a list of app</h3><p>I have my list of apps in 1 javascript file, called <code>factory.js</code>, for example here with <a href="https://onmyway133.com/pastepal/">PastePal</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> factory = [</span><br><span class="line">    &#123;</span><br><span class="line">        name: <span class="string">'PastePal'</span>,</span><br><span class="line">        slug: <span class="string">'pastepal'</span>,</span><br><span class="line">        header: &#123;</span><br><span class="line">            background: <span class="string">'#5488E5'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        headline: &#123;</span><br><span class="line">            title: <span class="string">'Your next favorite pasteboard manager'</span>,</span><br><span class="line">            text: <span class="string">'Never miss what you just type. PastePal is a native Mac application that manages your pasteboard history with a variety of file types support like text and images. It also comes with a nifty note and shortcut manager.'</span>,</span><br><span class="line">            image: <span class="string">'banner.png'</span>,</span><br><span class="line">        &#125;,</span><br></pre></td></tr></table></figure><p>In my <code>package.json</code> for my landing page, I declare a property called <code>currentApp</code>. This is to specify which app I’m currently work on. Later in the generator script, we can just update this for every app that we build.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"landing"</span>,</span><br><span class="line">  <span class="string">"version"</span>: <span class="string">"0.1.0"</span>,</span><br><span class="line">  <span class="string">"private"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="string">"homepage"</span>: <span class="string">"."</span>,</span><br><span class="line">  <span class="string">"currentApp"</span>: <span class="string">"pastepal"</span>,</span><br></pre></td></tr></table></figure><p>Here is how to read that value from my landing app</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> factory <span class="keyword">from</span> <span class="string">'./apps/factory'</span></span><br><span class="line"><span class="keyword">import</span> pkg <span class="keyword">from</span> <span class="string">'../package.json'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">        <span class="keyword">super</span>(props)</span><br><span class="line">        <span class="keyword">this</span>.state = &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    componentWillMount() &#123;</span><br><span class="line">        <span class="keyword">let</span> key = pkg.currentApp</span><br><span class="line">        <span class="keyword">if</span> (key === <span class="literal">undefined</span>) &#123;</span><br><span class="line">            key = <span class="string">'pastepal'</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> app = factory.filter(<span class="function">(<span class="params">app</span>) =&gt;</span> &#123; <span class="keyword">return</span> app.slug === key &#125;)[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">this</span>.setState(app)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;Page app=&#123;<span class="keyword">this</span>.state&#125; /&gt;</span><br><span class="line">            &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        )</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="Deployment"><a href="#Deployment" class="headerlink" title="Deployment"></a>Deployment</h3><p>One thing with <a href="https://create-react-app.dev/docs/deployment/">create-react-app</a> is that built assets are relative to the root, not your index.html</p><blockquote><p>npm run build creates a build directory with a production build of your app. Set up your favorite HTTP server so that a visitor to your site is served index.html, and requests to static paths like /static/js/main.<hash>.js are served with the contents of the /static/js/main.<hash>.js file. For more information see the production build section.</p></blockquote><blockquote><p>If you are not using the HTML5 pushState history API or not using client-side routing at all, it is unnecessary to specify the URL from which your app will be served. Instead, you can put this in your package.json:</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;homepage&quot;: &quot;.&quot;,</span><br></pre></td></tr></table></figure><blockquote><p>This will make sure that all the asset paths are relative to index.html. You will then be able to move your app from <a href="http://mywebsite.com">http://mywebsite.com</a> to <a href="http://mywebsite.com/relativepath">http://mywebsite.com/relativepath</a> or even <a href="http://mywebsite.com/relative/path">http://mywebsite.com/relative/path</a> without having to rebuild it.</p></blockquote><h2 id="Build-a-generator-script-to-generate-many-landing-pages"><a href="#Build-a-generator-script-to-generate-many-landing-pages" class="headerlink" title="Build a generator script to generate many landing pages"></a>Build a generator script to generate many landing pages</h2><p>I make another nodejs project called <code>generator</code>, it will use my landing project as template, changes a few parameters and build each app defined in <code>factory.js</code>.</p><p>My factory use <code>export default</code> syntax, so I need to use Babel in my node app to import that, see <a href="https://onmyway133.com/blog/how-to-use-babel-7-in-node-project/">How to use babel 7 in node project</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm init generator</span><br><span class="line">npm install @babel&#x2F;core</span><br><span class="line">npm install @babel&#x2F;cli</span><br><span class="line">npm install @babel&#x2F;preset-env</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;presets&quot;: [&quot;@babel&#x2F;preset-env&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Update-currentApp"><a href="#Update-currentApp" class="headerlink" title="Update currentApp"></a>Update currentApp</h3><p>I use <code>sync</code> methods of <code>fs</code> to not have to deal with asynchrony.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pkPath = <span class="string">`/Users/khoa/projects/anding/package.json`</span></span><br><span class="line"><span class="keyword">const</span> json = <span class="built_in">JSON</span>.parse(fs.readFileSync(pkPath, <span class="string">'utf8'</span>))</span><br><span class="line">json.currentApp = app.slug</span><br><span class="line">fs.writeFileSync(pkPath, <span class="built_in">JSON</span>.stringify(json, <span class="literal">null</span>, <span class="number">2</span>))</span><br></pre></td></tr></table></figure><h3 id="Execute-shell-command"><a href="#Execute-shell-command" class="headerlink" title="Execute shell command"></a>Execute shell command</h3><p>I use <code>shelljs</code> to execute shell commands, and <code>fs</code> to read and write. In <code>public/index.html</code> specify some placeholder and we will replace those in our script.</p><p>In landing app, the <code>public/index.html</code> acts as the shell when building the app, so I have a few placeholder called <code>CONSTANTS</code>, these will be replaced at generation time in my node app.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"><span class="keyword">const</span> shell = <span class="built_in">require</span>(<span class="string">'shelljs'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> indexHtml = fs.readFileSync(publicIndexHtmlPath, <span class="string">'utf8'</span>)</span><br><span class="line">indexHtml = indexHtml</span><br><span class="line">    .replace(<span class="string">'CONSTANT_HTML_TITLE'</span>, <span class="string">`<span class="subst">$&#123;app.name&#125;</span> - <span class="subst">$&#123;app.headline.title&#125;</span>`</span>)</span><br><span class="line">    .replace(<span class="string">'CONSTANT_HTML_META_DESCRIPTION'</span>, app.headline.text)</span><br><span class="line"></span><br><span class="line">fs.writeFileSync(publicIndexHtmlPath, indexHtml)</span><br><span class="line"></span><br><span class="line"><span class="comment">// build</span></span><br><span class="line">shell.cd(<span class="string">'projects/my_react_app'</span>)</span><br><span class="line">shell.exec(<span class="string">'npm run build'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// copy</span></span><br><span class="line">shell.exec(<span class="string">`cp -a projects/my_react_app web_server/public`</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        
        
          &lt;p&gt;&lt;strong&gt;Issue &lt;a href=&quot;https://github.com/onmyway133/blog/issues/654&quot;&gt;#654&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;A good landing page is one of the most
        
      
    
    </summary>
    
    
    
      <category term="react" scheme="https://onmyway133.github.io/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>How to show lightbox in React</title>
    <link href="https://onmyway133.github.io/blog/How-to-show-lightbox-in-React/"/>
    <id>https://onmyway133.github.io/blog/How-to-show-lightbox-in-React/</id>
    <published>2020-05-07T03:25:40.000Z</published>
    <updated>2020-05-07T03:25:40.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/653">#653</a></strong></p><p>Use <a href="https://github.com/biati-digital/glightbox">https://github.com/biati-digital/glightbox</a></p><p>Configure css. Specify <code>class=&#39;glightbox</code> for html elements</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;css&#x2F;blueimp-gallery.min.css&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure><p>Install package</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install glightbox</span><br><span class="line">import GLightbox from &#39;glightbox&#39;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> lbElements = features.map(<span class="function">(<span class="params">feature</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="string">'href'</span>: <span class="built_in">require</span>(<span class="string">`../apps/<span class="subst">$&#123;app.slug&#125;</span>/<span class="subst">$&#123;feature.image&#125;</span>`</span>),</span><br><span class="line">        <span class="string">'type'</span>: <span class="string">'image'</span>,</span><br><span class="line">        <span class="string">'title'</span>: feature.title,</span><br><span class="line">        <span class="string">'description'</span>: feature.texts[<span class="number">0</span>],</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> openLb = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> lightbox = GLightbox(&#123;</span><br><span class="line">        touchNavigation: <span class="literal">true</span>,</span><br><span class="line">        loop: <span class="literal">true</span>,</span><br><span class="line">        autoplayVideos: <span class="literal">true</span>,</span><br><span class="line">        onOpen: <span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;,</span><br><span class="line">        beforeSlideLoad: <span class="function">(<span class="params">slide, data</span>) =&gt;</span> &#123;&#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> myGallery = GLightbox(&#123;</span><br><span class="line">        elements: lbElements,</span><br><span class="line">        autoplayVideos: <span class="literal">false</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">    myGallery.open()</span><br><span class="line">&#125;&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        
        
          &lt;p&gt;&lt;strong&gt;Issue &lt;a href=&quot;https://github.com/onmyway133/blog/issues/653&quot;&gt;#653&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Use &lt;a
        
      
    
    </summary>
    
    
    
      <category term="react" scheme="https://onmyway133.github.io/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>How to animate on scroll in React</title>
    <link href="https://onmyway133.github.io/blog/How-to-animate-on-scroll-in-React/"/>
    <id>https://onmyway133.github.io/blog/How-to-animate-on-scroll-in-React/</id>
    <published>2020-05-07T03:23:51.000Z</published>
    <updated>2020-05-07T03:23:51.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/652">#652</a></strong></p><p>Use <a href="https://github.com/michalsnik/aos">https://github.com/michalsnik/aos</a></p><p>Add link to head</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;https:&#x2F;&#x2F;unpkg.com&#x2F;aos@next&#x2F;dist&#x2F;aos.css&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br></pre></td></tr></table></figure><p>Jus before closing body tag</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://unpkg.com/aos@next/dist/aos.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">    AOS.init();</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Specify <code>data-aos</code></p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div data-aos=<span class="string">"fade-up"</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        
        
          &lt;p&gt;&lt;strong&gt;Issue &lt;a href=&quot;https://github.com/onmyway133/blog/issues/652&quot;&gt;#652&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Use &lt;a
        
      
    
    </summary>
    
    
    
      <category term="react" scheme="https://onmyway133.github.io/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>How to copy folder in nodej</title>
    <link href="https://onmyway133.github.io/blog/How-to-copy-folder-in-nodej/"/>
    <id>https://onmyway133.github.io/blog/How-to-copy-folder-in-nodej/</id>
    <published>2020-05-07T02:09:28.000Z</published>
    <updated>2020-05-07T02:10:05.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/651">#651</a></strong></p><p>Use <code>shelljs</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install shelljs</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> shell = <span class="built_in">require</span>(<span class="string">'shelljs'</span>)</span><br><span class="line">shell.exec(<span class="string">`cp -a source_path/. destination_path`</span>)</span><br></pre></td></tr></table></figure><blockquote><p>The -a option is an improved recursive option, that preserve all file attributes, and also preserve symlinks.</p></blockquote><blockquote><p>The . at end of the source path is a specific cp syntax that allow to copy all files and folders, included hidden ones.</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        
        
          &lt;p&gt;&lt;strong&gt;Issue &lt;a href=&quot;https://github.com/onmyway133/blog/issues/651&quot;&gt;#651&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Use &lt;code&gt;shelljs&lt;/code&gt;&lt;/p&gt;
&lt;figure
        
      
    
    </summary>
    
    
    
      <category term="node" scheme="https://onmyway133.github.io/tags/node/"/>
    
  </entry>
  
  <entry>
    <title>How to use babel 7 in node project</title>
    <link href="https://onmyway133.github.io/blog/How-to-use-babel-7-in-node-project/"/>
    <id>https://onmyway133.github.io/blog/How-to-use-babel-7-in-node-project/</id>
    <published>2020-05-07T01:27:18.000Z</published>
    <updated>2020-05-07T01:27:18.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/650">#650</a></strong></p><p>Install</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install @babel/core</span><br><span class="line">npm install @babel/cli</span><br><span class="line">npm install @babel/preset-env</span><br></pre></td></tr></table></figure><p>Configure <code>.babelrc</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;presets&quot;: [&quot;@babel&#x2F;preset-env&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>In <code>package.json</code>, transpile using <code>npx babel</code> then <code>node dist/index.js</code></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">"start": "cp ../landing/src/apps/factory.js copied/factory.js &amp;&amp; npx babel index.js --out-file dist/index.js &amp;&amp; npx babel copied/factory.js --out-file dist/factory.js &amp;&amp; node dist/index.js"</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        
        
          &lt;p&gt;&lt;strong&gt;Issue &lt;a href=&quot;https://github.com/onmyway133/blog/issues/650&quot;&gt;#650&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Install&lt;/p&gt;
&lt;figure class=&quot;highlight
        
      
    
    </summary>
    
    
    
      <category term="node" scheme="https://onmyway133.github.io/tags/node/"/>
    
  </entry>
  
</feed>
